<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /bonfire/docs/changing_the_admin_URL.md source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Oct 23 19:15:14 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='bonfire/docs';
filename='changing_the_admin_URL.md.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/bonfire/docs/</a> -> <a href="changing_the_admin_URL.md.html">changing_the_admin_URL.md</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="changing_the_admin_URL.md.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="changing_the_admin_URL.md.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment"># Changing Constants for Better Security</span>
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">## Site Area</span>
<a name="l4"><span class="linenum">   4</span></a>  
<a name="l5"><span class="linenum">   5</span></a>  The &lt;tt&gt;<a class="constant" onClick="logConstant('SITE_AREA')" href="../../_constants/SITE_AREA.html" onMouseOver="constPopup(event,'SITE_AREA')">SITE_AREA</a>&lt;/tt&gt; is the location of your admin interface within your website. By default, all of Bonfireâ€™s Contexts are available by visiting &lt;tt&gt;http://example.com/admin/&lt;/tt&gt;.  In this case the Site Area is admin.  It is the URL that all of your contexts are made available under.
<a name="l6"><span class="linenum">   6</span></a>  
<a name="l7"><span class="linenum">   7</span></a>  Since the original intent of Bonfire was to create an admin area for your web applications, the admin site area made perfect sense.  As other developers started using Bonfire, though, new ways of structuring apps became apparent.  Site Areas were implemented to make these new types of app organization make more sense.
<a name="l8"><span class="linenum">   8</span></a>  
<a name="l9"><span class="linenum">   9</span></a>  &lt;a name=&quot;changing&quot;&gt;&lt;/a&gt;
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">### Changing the Site Area</span>
<a name="l11"><span class="linenum">  11</span></a>  
<a name="l12"><span class="linenum">  12</span></a>  Changing the site area for you app is as easy as changing a single constant.
<a name="l13"><span class="linenum">  13</span></a>  
<a name="l14"><span class="linenum">  14</span></a>  Open the &lt;tt&gt;bonfire/application/config/constants.php&lt;/tt&gt; file.  2. Edit the <a class="constant" onClick="logConstant('SITE_AREA')" href="../../_constants/SITE_AREA.html" onMouseOver="constPopup(event,'SITE_AREA')">SITE_AREA</a> constant to match your needs.
<a name="l15"><span class="linenum">  15</span></a>  
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>      <span class="comment">/*</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">       The 'App Area' allows you to specify the base folder used for all of</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">       the contexts in the app. By default, this is set to '/admin', but this</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">       does not make sense for all applications.</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment">    */</span>
<a name="l22"><span class="linenum">  22</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SITE_AREA')" href="../../_constants/SITE_AREA.html" onMouseOver="constPopup(event,'SITE_AREA')">SITE_AREA</a>', 'admin');
<a name="l23"><span class="linenum">  23</span></a>  
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  &lt;a name=&quot;linking&quot;&gt;&lt;/a&gt;
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">### Linking to Admin Pages</span>
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  When you need to create a link within your modules to an admin page you should use the <a class="constant" onClick="logConstant('SITE_AREA')" href="../../_constants/SITE_AREA.html" onMouseOver="constPopup(event,'SITE_AREA')">SITE_AREA</a> constant in your link.
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>      &lt;a href=&quot;&lt;?php echo <a class="function" onClick="logFunction('site_url')" href="../../_functions/site_url.html" onMouseOver="funcPopup(event,'site_url')">site_url</a>(<a class="constant" onClick="logConstant('SITE_AREA')" href="../../_constants/SITE_AREA.html" onMouseOver="constPopup(event,'SITE_AREA')">SITE_AREA</a> .'/my_link') ?&gt;&quot;&gt;My Link&lt;/a&gt;
<a name="l33"><span class="linenum">  33</span></a>  
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">## User Login &amp;amp; Registration</span>
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>  To help protect your site from script-related brute-force attacks you can globally change the &lt;tt&gt;login&lt;/tt&gt; and &lt;tt&gt;register&lt;/tt&gt; URLs to something unique on your site. This primarily keeps spammers from doing a simple Google and located a Bonfire-specific string on your website, collecting the URL, and spamming user registrations or logins onto your site or attempting brute-force logins. It is not a foolproof method of security, by any means, but can keep your site free from the script-kiddies and link spammers.
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>  The &lt;tt&gt;config/constants.php&lt;/tt&gt; file defines a constant that is used throughout the system's core modules and themes. Changing the destination of these defines will also change the URL used throughout the system.
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('LOGIN_URL')" href="../../_constants/LOGIN_URL.html" onMouseOver="constPopup(event,'LOGIN_URL')">LOGIN_URL</a>', 'login');
<a name="l42"><span class="linenum">  42</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('REGISTER_URL')" href="../../_constants/REGISTER_URL.html" onMouseOver="constPopup(event,'REGISTER_URL')">REGISTER_URL</a>', 'register');
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">### When No Public Login is Needed</span>
<a name="l45"><span class="linenum">  45</span></a>  
<a name="l46"><span class="linenum">  46</span></a>  If your site does not require public login, only admin login, you can take the following steps to tighten up security a little bit more.
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>  1. Change <a class="constant" onClick="logConstant('LOGIN_URL')" href="../../_constants/LOGIN_URL.html" onMouseOver="constPopup(event,'LOGIN_URL')">LOGIN_URL</a> to equal <a class="constant" onClick="logConstant('SITE_AREA')" href="../../_constants/SITE_AREA.html" onMouseOver="constPopup(event,'SITE_AREA')">SITE_AREA</a> .'/login' to bring the login page into the admin area.
<a name="l49"><span class="linenum">  49</span></a>  2. Change <a class="constant" onClick="logConstant('SITE_AREA')" href="../../_constants/SITE_AREA.html" onMouseOver="constPopup(event,'SITE_AREA')">SITE_AREA</a> to a different <a class="function" onClick="logFunction('value')" href="../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a> (not the default /admin)
<a name="l50"><span class="linenum">  50</span></a>  3. Make sure that user registration is disabled. Uncheck 'Allow User Registrations' within Settings. Edit routes.php to a) remove /register and b) block users/register.
<a name="l51"><span class="linenum">  51</span></a>  4. Check your site theme and remove any login links.
<a name="l52"><span class="linenum">  52</span></a>  
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'site_url': ['site_url', 'Site URL Returns base_url . index_page [. uri_string] ', [['bonfire/codeigniter/core','Config.php',244],['bonfire/codeigniter/helpers','url_helper.php',30]], 120],
'value': ['value', '', [['bonfire/codeigniter/libraries','Xmlrpc.php',469]], 15],
'define': ['define', '', [], 70]};
CLASS_DATA={
};
CONST_DATA={
'REGISTER_URL': ['REGISTER_URL', '', [['application/config','constants.php',56],['bonfire/docs','changing_the_admin_URL.md',42]], 9],
'SITE_AREA': ['SITE_AREA', '', [['application/config','constants.php',47],['bonfire/docs','changing_the_admin_URL.md',22]], 170],
'LOGIN_URL': ['LOGIN_URL', '', [['application/config','constants.php',55],['bonfire/docs','changing_the_admin_URL.md',41]], 16]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Oct 23 19:15:14 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
