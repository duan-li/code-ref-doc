<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /bonfire/modules/users/controllers/users.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Oct 23 19:15:14 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='bonfire/modules/users/controllers';
filename='users.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/bonfire/modules/users/controllers/</a> -> <a href="users.php.html">users.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="users.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="users.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php if (!<a class="phpfunction" onClick="logFunction('defined')" href="../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('BASEPATH')" href="../../../../_constants/BASEPATH.html" onMouseOver="constPopup(event,'BASEPATH')">BASEPATH</a>')) exit('No direct script access allowed');
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/**</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * Bonfire</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> *</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * An open source project to allow developers get a jumpstart their development of CodeIgniter applications</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> *</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> * @package   Bonfire</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * @author    Bonfire Dev Team</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> * @copyright Copyright (c) 2011 - 2013, Bonfire Dev Team</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * @license   http://guides.cibonfire.com/license.html</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * @link      http://cibonfire.com</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> * @since     Version 1.0</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * @filesource</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> */</span>
<a name="l15"><span class="linenum">  15</span></a>  
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">// ------------------------------------------------------------------------</span>
<a name="l17"><span class="linenum">  17</span></a>  
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">/**</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * Users Controller</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> *</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * Provides front-end functions for users, like login and logout.</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> *</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @package    Bonfire</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @subpackage Modules_Users</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @category   Controllers</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * @author     Bonfire Dev Team</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @link       http://cibonfire.com</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> *</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> */</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Users')" href="../../../../_classes/users.html" onMouseOver="classPopup(event,'users')">Users</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('Front_Controller')" href="../../../../_classes/front_controller.html" onMouseOver="classPopup(event,'front_controller')">Front_Controller</a>
<a name="l31"><span class="linenum">  31</span></a>  {
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">    //--------------------------------------------------------------------</span>
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>      <span class="comment">/**</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment">     * Setup the required libraries etc</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * @retun void</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     */</span>
<a name="l40"><span class="linenum">  40</span></a>  	public function <a class="function" onClick="logFunction('__construct')" href="../../../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>()
<a name="l41"><span class="linenum">  41</span></a>      {
<a name="l42"><span class="linenum">  42</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../../../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>();
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('helper')" href="../../../../_functions/helper.html" onMouseOver="funcPopup(event,'helper')">helper</a>('form');
<a name="l45"><span class="linenum">  45</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('library')" href="../../../../_functions/library.html" onMouseOver="funcPopup(event,'library')">library</a>('form_validation');
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('model')" href="../../../../_functions/model.html" onMouseOver="funcPopup(event,'model')">model</a>('users/user_model');
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('library')" href="../../../../_functions/library.html" onMouseOver="funcPopup(event,'library')">library</a>('users/auth');
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('lang')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/lang.html">lang</a>-&gt;<a class="function" onClick="logFunction('load')" href="../../../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>('users');
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>      }<span class="comment">//end __construct()</span>
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">    //--------------------------------------------------------------------</span>
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>      <span class="comment">/**</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * Presents the login function and allows the user to actually login.</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     *</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * @access public</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     *</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     * @return void</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     */</span>
<a name="l64"><span class="linenum">  64</span></a>  	public function <a class="function" onClick="logFunction('login')" href="../../../../_functions/login.html" onMouseOver="funcPopup(event,'login')">login</a>()
<a name="l65"><span class="linenum">  65</span></a>      {
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">        // if the user is not logged in continue to show the login page</span>
<a name="l67"><span class="linenum">  67</span></a>          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('auth')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/auth.html">auth</a>-&gt;<a class="function" onClick="logFunction('is_logged_in')" href="../../../../_functions/is_logged_in.html" onMouseOver="funcPopup(event,'is_logged_in')">is_logged_in</a>() === FALSE)
<a name="l68"><span class="linenum">  68</span></a>          {
<a name="l69"><span class="linenum">  69</span></a>              if (isset(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['log-me-in']))
<a name="l70"><span class="linenum">  70</span></a>              {
<a name="l71"><span class="linenum">  71</span></a>                  <a class="var it1449" onMouseOver="hilite(1449)" onMouseOut="lolite()" onClick="logVariable('remember')" href="../../../../_variables/remember.html">$remember</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('remember_me') == '1' ? TRUE : FALSE;
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">                // Try to login</span>
<a name="l74"><span class="linenum">  74</span></a>                  if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('auth')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/auth.html">auth</a>-&gt;<a class="function" onClick="logFunction('login')" href="../../../../_functions/login.html" onMouseOver="funcPopup(event,'login')">login</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('login'), <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('password'), <a class="var it1449" onMouseOver="hilite(1449)" onMouseOut="lolite()" onClick="logVariable('remember')" href="../../../../_variables/remember.html">$remember</a>) === TRUE)
<a name="l75"><span class="linenum">  75</span></a>                  {
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">                    // Log the Activity</span>
<a name="l78"><span class="linenum">  78</span></a>                      <a class="function" onClick="logFunction('log_activity')" href="../../../../_functions/log_activity.html" onMouseOver="funcPopup(event,'log_activity')">log_activity</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('auth')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/auth.html">auth</a>-&gt;<a class="function" onClick="logFunction('user_id')" href="../../../../_functions/user_id.html" onMouseOver="funcPopup(event,'user_id')">user_id</a>(), <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_log_logged') . ': ' . <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('ip_address')" href="../../../../_functions/ip_address.html" onMouseOver="funcPopup(event,'ip_address')">ip_address</a>(), 'users');
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">                    // Now redirect.  (If this ever changes to render something,</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">                    // note that auth-&gt;login() currently doesn't attempt to fix</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">                    // `$this-&gt;current_user` for the current page load).</span>
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>                      <span class="comment">/*</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">                        In many cases, we will have set a destination for a</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">                        particular user-role to redirect to. This is helpful for</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">                        cases where we are presenting different information to different</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">                        roles that might cause the base destination to be not available.</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">                    */</span>
<a name="l90"><span class="linenum">  90</span></a>                      if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('auth.do_login_redirect') &amp;&amp; !empty (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('auth')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/auth.html">auth</a>-&gt;login_destination))
<a name="l91"><span class="linenum">  91</span></a>                      {
<a name="l92"><span class="linenum">  92</span></a>                          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('auth')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/auth.html">auth</a>-&gt;login_destination);
<a name="l93"><span class="linenum">  93</span></a>                      }
<a name="l94"><span class="linenum">  94</span></a>                      else
<a name="l95"><span class="linenum">  95</span></a>                      {
<a name="l96"><span class="linenum">  96</span></a>                          if (!empty(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('requested_page')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/requested_page.html">requested_page</a>))
<a name="l97"><span class="linenum">  97</span></a>                          {
<a name="l98"><span class="linenum">  98</span></a>                              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('requested_page')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/requested_page.html">requested_page</a>);
<a name="l99"><span class="linenum">  99</span></a>                          }
<a name="l100"><span class="linenum"> 100</span></a>                          else
<a name="l101"><span class="linenum"> 101</span></a>                          {
<a name="l102"><span class="linenum"> 102</span></a>                              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>('/');
<a name="l103"><span class="linenum"> 103</span></a>                          }
<a name="l104"><span class="linenum"> 104</span></a>                      }
<a name="l105"><span class="linenum"> 105</span></a>                  }<span class="comment">//end if</span>
<a name="l106"><span class="linenum"> 106</span></a>              }<span class="comment">//end if</span>
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>              if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('redirect_url'))
<a name="l109"><span class="linenum"> 109</span></a>              {
<a name="l110"><span class="linenum"> 110</span></a>                  <a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('redirect_url'));
<a name="l111"><span class="linenum"> 111</span></a>              }
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_view')" href="../../../../_functions/set_view.html" onMouseOver="funcPopup(event,'set_view')">set_view</a>('users/users/login');
<a name="l114"><span class="linenum"> 114</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('page_title', 'Login');
<a name="l115"><span class="linenum"> 115</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>('login');
<a name="l116"><span class="linenum"> 116</span></a>          }
<a name="l117"><span class="linenum"> 117</span></a>          else
<a name="l118"><span class="linenum"> 118</span></a>          {
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>('/');
<a name="l121"><span class="linenum"> 121</span></a>          }<span class="comment">//end if</span>
<a name="l122"><span class="linenum"> 122</span></a>  
<a name="l123"><span class="linenum"> 123</span></a>      }<span class="comment">//end login()</span>
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">    //--------------------------------------------------------------------</span>
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>      <span class="comment">/**</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">     * Calls the auth-&gt;logout method to destroy the session and cleanup,</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     * then redirects to the home page.</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     *</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @access public</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     *</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     * @return void</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     */</span>
<a name="l135"><span class="linenum"> 135</span></a>  	public function <a class="function" onClick="logFunction('logout')" href="../../../../_functions/logout.html" onMouseOver="funcPopup(event,'logout')">logout</a>()
<a name="l136"><span class="linenum"> 136</span></a>      {
<a name="l137"><span class="linenum"> 137</span></a>          if (isset(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;id))
<a name="l138"><span class="linenum"> 138</span></a>          {
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">            // Login session is valid.  Log the Activity</span>
<a name="l140"><span class="linenum"> 140</span></a>              <a class="function" onClick="logFunction('log_activity')" href="../../../../_functions/log_activity.html" onMouseOver="funcPopup(event,'log_activity')">log_activity</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;id, <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_log_logged_out') . ': ' . <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('ip_address')" href="../../../../_functions/ip_address.html" onMouseOver="funcPopup(event,'ip_address')">ip_address</a>(), 'users');
<a name="l141"><span class="linenum"> 141</span></a>          }
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">        // Always clear browser data (don't silently ignore user requests :).</span>
<a name="l144"><span class="linenum"> 144</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('auth')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/auth.html">auth</a>-&gt;<a class="function" onClick="logFunction('logout')" href="../../../../_functions/logout.html" onMouseOver="funcPopup(event,'logout')">logout</a>();
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>          <a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>('/');
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>      }<span class="comment">//end  logout()</span>
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">    //--------------------------------------------------------------------</span>
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>      <span class="comment">/**</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">     * Allows a user to start the process of resetting their password.</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     * An email is allowed with a special temporary link that is only valid</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     * for 24 hours. This link takes them to reset_password().</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     *</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">     * @access public</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     *</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     * @return void</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     */</span>
<a name="l161"><span class="linenum"> 161</span></a>  	public function <a class="function" onClick="logFunction('forgot_password')" href="../../../../_functions/forgot_password.html" onMouseOver="funcPopup(event,'forgot_password')">forgot_password</a>()
<a name="l162"><span class="linenum"> 162</span></a>      {
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">        // if the user is not logged in continue to show the login page</span>
<a name="l165"><span class="linenum"> 165</span></a>          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('auth')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/auth.html">auth</a>-&gt;<a class="function" onClick="logFunction('is_logged_in')" href="../../../../_functions/is_logged_in.html" onMouseOver="funcPopup(event,'is_logged_in')">is_logged_in</a>() === FALSE)
<a name="l166"><span class="linenum"> 166</span></a>          {
<a name="l167"><span class="linenum"> 167</span></a>              if (isset(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['send']))
<a name="l168"><span class="linenum"> 168</span></a>              {
<a name="l169"><span class="linenum"> 169</span></a>                  <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('email', 'lang:bf_email', 'required|trim|valid_email');
<a name="l170"><span class="linenum"> 170</span></a>  
<a name="l171"><span class="linenum"> 171</span></a>                  if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('run')" href="../../../../_functions/run.html" onMouseOver="funcPopup(event,'run')">run</a>() !== FALSE)
<a name="l172"><span class="linenum"> 172</span></a>                  {
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">                    // We validated. Does the user actually exist?</span>
<a name="l174"><span class="linenum"> 174</span></a>                      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_by')" href="../../../../_functions/find_by.html" onMouseOver="funcPopup(event,'find_by')">find_by</a>('email', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email']);
<a name="l175"><span class="linenum"> 175</span></a>  
<a name="l176"><span class="linenum"> 176</span></a>                      if (<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a> !== FALSE)
<a name="l177"><span class="linenum"> 177</span></a>                      {
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">                        // User exists, so create a temp password.</span>
<a name="l179"><span class="linenum"> 179</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('helpers')" href="../../../../_functions/helpers.html" onMouseOver="funcPopup(event,'helpers')">helpers</a>(array('string', 'security'));
<a name="l180"><span class="linenum"> 180</span></a>  
<a name="l181"><span class="linenum"> 181</span></a>                          <a class="var it1451" onMouseOver="hilite(1451)" onMouseOut="lolite()" onClick="logVariable('pass_code')" href="../../../../_variables/pass_code.html">$pass_code</a> = <a class="function" onClick="logFunction('random_string')" href="../../../../_functions/random_string.html" onMouseOver="funcPopup(event,'random_string')">random_string</a>('alnum', 40);
<a name="l182"><span class="linenum"> 182</span></a>  
<a name="l183"><span class="linenum"> 183</span></a>                          <a class="var it1452" onMouseOver="hilite(1452)" onMouseOut="lolite()" onClick="logVariable('hash')" href="../../../../_variables/hash.html">$hash</a> = <a class="function" onClick="logFunction('do_hash')" href="../../../../_functions/do_hash.html" onMouseOver="funcPopup(event,'do_hash')">do_hash</a>(<a class="var it1451" onMouseOver="hilite(1451)" onMouseOut="lolite()" onClick="logVariable('pass_code')" href="../../../../_variables/pass_code.html">$pass_code</a> . <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email']);
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">                        // Save the hash to the db so we can confirm it later.</span>
<a name="l186"><span class="linenum"> 186</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('update_where')" href="../../../../_functions/update_where.html" onMouseOver="funcPopup(event,'update_where')">update_where</a>('email', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email'], array('reset_hash' =&gt; <a class="var it1452" onMouseOver="hilite(1452)" onMouseOut="lolite()" onClick="logVariable('hash')" href="../../../../_variables/hash.html">$hash</a>, 'reset_by' =&gt; <a class="phpfunction" onClick="logFunction('strtotime')" href="../../../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>(&quot;+24 hours&quot;) ));
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">                        // Create the link to reset the password</span>
<a name="l189"><span class="linenum"> 189</span></a>                          <a class="var it1453" onMouseOver="hilite(1453)" onMouseOut="lolite()" onClick="logVariable('pass_link')" href="../../../../_variables/pass_link.html">$pass_link</a> = <a class="function" onClick="logFunction('site_url')" href="../../../../_functions/site_url.html" onMouseOver="funcPopup(event,'site_url')">site_url</a>('reset_password/'. <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('@', ':', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email']) .'/'. <a class="var it1452" onMouseOver="hilite(1452)" onMouseOut="lolite()" onClick="logVariable('hash')" href="../../../../_variables/hash.html">$hash</a>);
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">                        // Now send the email</span>
<a name="l192"><span class="linenum"> 192</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('library')" href="../../../../_functions/library.html" onMouseOver="funcPopup(event,'library')">library</a>('emailer/emailer');
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>                          <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a> = array(
<a name="l195"><span class="linenum"> 195</span></a>                                      'to'    =&gt; <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email'],
<a name="l196"><span class="linenum"> 196</span></a>                                      'subject'    =&gt; <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_reset_pass_subject'),
<a name="l197"><span class="linenum"> 197</span></a>                                      'message'    =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('_emails/forgot_password', array('link' =&gt; <a class="var it1453" onMouseOver="hilite(1453)" onMouseOut="lolite()" onClick="logVariable('pass_link')" href="../../../../_variables/pass_link.html">$pass_link</a>), TRUE)
<a name="l198"><span class="linenum"> 198</span></a>                               );
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>                          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;<a class="function" onClick="logFunction('send')" href="../../../../_functions/send.html" onMouseOver="funcPopup(event,'send')">send</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>))
<a name="l201"><span class="linenum"> 201</span></a>                          {
<a name="l202"><span class="linenum"> 202</span></a>                              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_reset_pass_message'), 'success');
<a name="l203"><span class="linenum"> 203</span></a>                          }
<a name="l204"><span class="linenum"> 204</span></a>                          else
<a name="l205"><span class="linenum"> 205</span></a>                          {
<a name="l206"><span class="linenum"> 206</span></a>                              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_reset_pass_error'). <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;error, 'error');
<a name="l207"><span class="linenum"> 207</span></a>                          }
<a name="l208"><span class="linenum"> 208</span></a>                      }
<a name="l209"><span class="linenum"> 209</span></a>                      else
<a name="l210"><span class="linenum"> 210</span></a>                      {
<a name="l211"><span class="linenum"> 211</span></a>                          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_invalid_email'), 'error');
<a name="l212"><span class="linenum"> 212</span></a>                      }<span class="comment">//end if</span>
<a name="l213"><span class="linenum"> 213</span></a>                  }<span class="comment">//end if</span>
<a name="l214"><span class="linenum"> 214</span></a>              }<span class="comment">//end if</span>
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_view')" href="../../../../_functions/set_view.html" onMouseOver="funcPopup(event,'set_view')">set_view</a>('users/users/forgot_password');
<a name="l217"><span class="linenum"> 217</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('page_title', 'Password Reset');
<a name="l218"><span class="linenum"> 218</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>();
<a name="l219"><span class="linenum"> 219</span></a>          }
<a name="l220"><span class="linenum"> 220</span></a>          else
<a name="l221"><span class="linenum"> 221</span></a>          {
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>('/');
<a name="l224"><span class="linenum"> 224</span></a>          }<span class="comment">//end if</span>
<a name="l225"><span class="linenum"> 225</span></a>  
<a name="l226"><span class="linenum"> 226</span></a>      }<span class="comment">//end forgot_password()</span>
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">    //--------------------------------------------------------------------</span>
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>      <span class="comment">/**</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     * Allows a user to edit their own profile information.</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">     *</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     * @access public</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     *</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     * @return void</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     */</span>
<a name="l237"><span class="linenum"> 237</span></a>  	public function <a class="function" onClick="logFunction('profile')" href="../../../../_functions/profile.html" onMouseOver="funcPopup(event,'profile')">profile</a>()
<a name="l238"><span class="linenum"> 238</span></a>      {
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">        // Make sure we're logged in.</span>
<a name="l240"><span class="linenum"> 240</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('auth')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/auth.html">auth</a>-&gt;<a class="function" onClick="logFunction('restrict')" href="../../../../_functions/restrict.html" onMouseOver="funcPopup(event,'restrict')">restrict</a>();
<a name="l241"><span class="linenum"> 241</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_current_user')" href="../../../../_functions/set_current_user.html" onMouseOver="funcPopup(event,'set_current_user')">set_current_user</a>();
<a name="l242"><span class="linenum"> 242</span></a>  
<a name="l243"><span class="linenum"> 243</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('helper')" href="../../../../_functions/helper.html" onMouseOver="funcPopup(event,'helper')">helper</a>('date');
<a name="l244"><span class="linenum"> 244</span></a>  
<a name="l245"><span class="linenum"> 245</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('config')" href="../../../../_functions/config.html" onMouseOver="funcPopup(event,'config')">config</a>('address');
<a name="l246"><span class="linenum"> 246</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('helper')" href="../../../../_functions/helper.html" onMouseOver="funcPopup(event,'helper')">helper</a>('address');
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('config')" href="../../../../_functions/config.html" onMouseOver="funcPopup(event,'config')">config</a>('user_meta');
<a name="l249"><span class="linenum"> 249</span></a>          <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../../../_variables/meta_fields.html">$meta_fields</a> = <a class="function" onClick="logFunction('config_item')" href="../../../../_functions/config_item.html" onMouseOver="funcPopup(event,'config_item')">config_item</a>('user_meta_fields');
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('meta_fields', <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../../../_variables/meta_fields.html">$meta_fields</a>);
<a name="l252"><span class="linenum"> 252</span></a>  
<a name="l253"><span class="linenum"> 253</span></a>          if (isset(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['save']))
<a name="l254"><span class="linenum"> 254</span></a>          {
<a name="l255"><span class="linenum"> 255</span></a>  
<a name="l256"><span class="linenum"> 256</span></a>              <a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;id;
<a name="l257"><span class="linenum"> 257</span></a>              if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('save_user')" href="../../../../_functions/save_user.html" onMouseOver="funcPopup(event,'save_user')">save_user</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a>, <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../../../_variables/meta_fields.html">$meta_fields</a>))
<a name="l258"><span class="linenum"> 258</span></a>              {
<a name="l259"><span class="linenum"> 259</span></a>  
<a name="l260"><span class="linenum"> 260</span></a>                  <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('meta_data')" href="../../../../_variables/meta_data.html">$meta_data</a> = array();
<a name="l261"><span class="linenum"> 261</span></a>                  foreach (<a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../../../_variables/meta_fields.html">$meta_fields</a> as <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>)
<a name="l262"><span class="linenum"> 262</span></a>                  {
<a name="l263"><span class="linenum"> 263</span></a>                      if ((!isset(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only']) || <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only'] === FALSE
<a name="l264"><span class="linenum"> 264</span></a>                          || (isset(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only']) &amp;&amp; <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only'] === TRUE
<a name="l265"><span class="linenum"> 265</span></a>                              &amp;&amp; isset(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>) &amp;&amp; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;role_id == 1))
<a name="l266"><span class="linenum"> 266</span></a>                          &amp;&amp; (!isset(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['frontend']) || <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['frontend'] === TRUE)
<a name="l267"><span class="linenum"> 267</span></a>                          &amp;&amp; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['name']) !== FALSE)
<a name="l268"><span class="linenum"> 268</span></a>                      {
<a name="l269"><span class="linenum"> 269</span></a>                          <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('meta_data')" href="../../../../_variables/meta_data.html">$meta_data</a>[<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['name']] = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['name']);
<a name="l270"><span class="linenum"> 270</span></a>                      }
<a name="l271"><span class="linenum"> 271</span></a>                  }
<a name="l272"><span class="linenum"> 272</span></a>  
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">                // now add the meta is there is meta data</span>
<a name="l274"><span class="linenum"> 274</span></a>                  <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('save_meta_for')" href="../../../../_functions/save_meta_for.html" onMouseOver="funcPopup(event,'save_meta_for')">save_meta_for</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a>, <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('meta_data')" href="../../../../_variables/meta_data.html">$meta_data</a>);
<a name="l275"><span class="linenum"> 275</span></a>  
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">                // Log the Activity</span>
<a name="l277"><span class="linenum"> 277</span></a>  
<a name="l278"><span class="linenum"> 278</span></a>                  <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a>);
<a name="l279"><span class="linenum"> 279</span></a>                  <a class="var it1457" onMouseOver="hilite(1457)" onMouseOut="lolite()" onClick="logVariable('log_name')" href="../../../../_variables/log_name.html">$log_name</a> = (isset(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('display_name')" class="var it2878" onMouseOver="hilite(2878)" onMouseOut="lolite()" href="../../../../_variables/display_name.html">display_name</a>) &amp;&amp; !empty(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('display_name')" class="var it2878" onMouseOver="hilite(2878)" onMouseOut="lolite()" href="../../../../_variables/display_name.html">display_name</a>)) ? <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('display_name')" class="var it2878" onMouseOver="hilite(2878)" onMouseOut="lolite()" href="../../../../_variables/display_name.html">display_name</a> : (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('auth.use_usernames') ? <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('username')" class="var it2878" onMouseOver="hilite(2878)" onMouseOut="lolite()" href="../../../../_variables/username.html">username</a> : <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('email')" class="var it2878" onMouseOver="hilite(2878)" onMouseOut="lolite()" href="../../../../_variables/email.html">email</a>);
<a name="l280"><span class="linenum"> 280</span></a>                  <a class="function" onClick="logFunction('log_activity')" href="../../../../_functions/log_activity.html" onMouseOver="funcPopup(event,'log_activity')">log_activity</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;id, <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_log_edit_profile') . ': ' . <a class="var it1457" onMouseOver="hilite(1457)" onMouseOut="lolite()" onClick="logVariable('log_name')" href="../../../../_variables/log_name.html">$log_name</a>, 'users');
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>                  <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_profile_updated_success'), 'success');
<a name="l283"><span class="linenum"> 283</span></a>  
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">                // redirect to make sure any language changes are picked up</span>
<a name="l285"><span class="linenum"> 285</span></a>                  <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>('/users/profile');
<a name="l286"><span class="linenum"> 286</span></a>              }
<a name="l287"><span class="linenum"> 287</span></a>              else
<a name="l288"><span class="linenum"> 288</span></a>              {
<a name="l289"><span class="linenum"> 289</span></a>                  <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_profile_updated_error'), 'error');
<a name="l290"><span class="linenum"> 290</span></a>              }<span class="comment">//end if</span>
<a name="l291"><span class="linenum"> 291</span></a>          }<span class="comment">//end if</span>
<a name="l292"><span class="linenum"> 292</span></a>  
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">        // get the current user information</span>
<a name="l294"><span class="linenum"> 294</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_user_and_meta')" href="../../../../_functions/find_user_and_meta.html" onMouseOver="funcPopup(event,'find_user_and_meta')">find_user_and_meta</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;id);
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>          <a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../../../_variables/settings.html">$settings</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('find_all')" href="../../../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l297"><span class="linenum"> 297</span></a>          if (<a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../../../_variables/settings.html">$settings</a>['auth.password_show_labels'] == 1) {
<a name="l298"><span class="linenum"> 298</span></a>              <a class="class" onClick="logClass('Assets')" href="../../../../_classes/assets.html" onMouseOver="classPopup(event,'assets')">Assets</a>::<a class="function" onClick="logFunction('add_module_js')" href="../../../../_functions/add_module_js.html" onMouseOver="funcPopup(event,'add_module_js')">add_module_js</a>('users','password_strength.js');
<a name="l299"><span class="linenum"> 299</span></a>              <a class="class" onClick="logClass('Assets')" href="../../../../_classes/assets.html" onMouseOver="classPopup(event,'assets')">Assets</a>::<a class="function" onClick="logFunction('add_module_js')" href="../../../../_functions/add_module_js.html" onMouseOver="funcPopup(event,'add_module_js')">add_module_js</a>('users','jquery.strength.js');
<a name="l300"><span class="linenum"> 300</span></a>              <a class="class" onClick="logClass('Assets')" href="../../../../_classes/assets.html" onMouseOver="classPopup(event,'assets')">Assets</a>::<a class="function" onClick="logFunction('add_js')" href="../../../../_functions/add_js.html" onMouseOver="funcPopup(event,'add_js')">add_js</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('users_js', array('settings'=&gt;<a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../../../_variables/settings.html">$settings</a>), true), 'inline');
<a name="l301"><span class="linenum"> 301</span></a>          }
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">        // Generate password hint messages.</span>
<a name="l303"><span class="linenum"> 303</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('password_hints')" href="../../../../_functions/password_hints.html" onMouseOver="funcPopup(event,'password_hints')">password_hints</a>();
<a name="l304"><span class="linenum"> 304</span></a>  
<a name="l305"><span class="linenum"> 305</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('user', <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a>);
<a name="l306"><span class="linenum"> 306</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('languages', <a class="phpfunction" onClick="logFunction('unserialize')" href="../../../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('site.languages')));
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_view')" href="../../../../_functions/set_view.html" onMouseOver="funcPopup(event,'set_view')">set_view</a>('users/users/profile');
<a name="l309"><span class="linenum"> 309</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>();
<a name="l310"><span class="linenum"> 310</span></a>  
<a name="l311"><span class="linenum"> 311</span></a>      }<span class="comment">//end profile()</span>
<a name="l312"><span class="linenum"> 312</span></a>  
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">    //--------------------------------------------------------------------</span>
<a name="l314"><span class="linenum"> 314</span></a>  
<a name="l315"><span class="linenum"> 315</span></a>      <span class="comment">/**</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * Allows the user to create a new password for their account. At the moment,</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     * the only way to get here is to go through the forgot_password() process,</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     * which creates a unique code that is only valid for 24 hours.</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     *</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">     * Since 0.7 this method is also gotten to here by the force_password_reset</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">     * security features.</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">     *</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">     * @access public</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">     *</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">     * @param string $email The email address to check against.</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">     * @param string $code  A randomly generated alphanumeric code. (Generated by forgot_password() ).</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     *</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     * @return void</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     */</span>
<a name="l330"><span class="linenum"> 330</span></a>  	public function <a class="function" onClick="logFunction('reset_password')" href="../../../../_functions/reset_password.html" onMouseOver="funcPopup(event,'reset_password')">reset_password</a>(<a class="var it252" onMouseOver="hilite(252)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../../../_variables/email.html">$email</a>='', <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../../../_variables/code.html">$code</a>='')
<a name="l331"><span class="linenum"> 331</span></a>      {
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">        // if the user is not logged in continue to show the login page</span>
<a name="l333"><span class="linenum"> 333</span></a>          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('auth')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/auth.html">auth</a>-&gt;<a class="function" onClick="logFunction('is_logged_in')" href="../../../../_functions/is_logged_in.html" onMouseOver="funcPopup(event,'is_logged_in')">is_logged_in</a>() === FALSE)
<a name="l334"><span class="linenum"> 334</span></a>          {
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">            // If we're set here via Bonfire and not an email link</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">            // then we might have the email and code in the session.</span>
<a name="l337"><span class="linenum"> 337</span></a>              if (empty(<a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../../../_variables/code.html">$code</a>) &amp;&amp; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('session')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/session.html">session</a>-&gt;<a class="function" onClick="logFunction('userdata')" href="../../../../_functions/userdata.html" onMouseOver="funcPopup(event,'userdata')">userdata</a>('pass_check'))
<a name="l338"><span class="linenum"> 338</span></a>              {
<a name="l339"><span class="linenum"> 339</span></a>                  <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../../../_variables/code.html">$code</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('session')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/session.html">session</a>-&gt;<a class="function" onClick="logFunction('userdata')" href="../../../../_functions/userdata.html" onMouseOver="funcPopup(event,'userdata')">userdata</a>('pass_check');
<a name="l340"><span class="linenum"> 340</span></a>              }
<a name="l341"><span class="linenum"> 341</span></a>  
<a name="l342"><span class="linenum"> 342</span></a>              if (empty(<a class="var it252" onMouseOver="hilite(252)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../../../_variables/email.html">$email</a>) &amp;&amp; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('session')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/session.html">session</a>-&gt;<a class="function" onClick="logFunction('userdata')" href="../../../../_functions/userdata.html" onMouseOver="funcPopup(event,'userdata')">userdata</a>('email'))
<a name="l343"><span class="linenum"> 343</span></a>              {
<a name="l344"><span class="linenum"> 344</span></a>                  <a class="var it252" onMouseOver="hilite(252)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../../../_variables/email.html">$email</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('session')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/session.html">session</a>-&gt;<a class="function" onClick="logFunction('userdata')" href="../../../../_functions/userdata.html" onMouseOver="funcPopup(event,'userdata')">userdata</a>('email');
<a name="l345"><span class="linenum"> 345</span></a>              }
<a name="l346"><span class="linenum"> 346</span></a>  
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment">            // If there is no code, then it's not a valid request.</span>
<a name="l348"><span class="linenum"> 348</span></a>              if (empty(<a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../../../_variables/code.html">$code</a>) || empty(<a class="var it252" onMouseOver="hilite(252)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../../../_variables/email.html">$email</a>))
<a name="l349"><span class="linenum"> 349</span></a>              {
<a name="l350"><span class="linenum"> 350</span></a>                  <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_reset_invalid_email'), 'error');
<a name="l351"><span class="linenum"> 351</span></a>                  <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="constant" onClick="logConstant('LOGIN_URL')" href="../../../../_constants/LOGIN_URL.html" onMouseOver="constPopup(event,'LOGIN_URL')">LOGIN_URL</a>);
<a name="l352"><span class="linenum"> 352</span></a>              }
<a name="l353"><span class="linenum"> 353</span></a>  
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">            // Handle the form</span>
<a name="l355"><span class="linenum"> 355</span></a>              if (isset(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['set_password']))
<a name="l356"><span class="linenum"> 356</span></a>              {
<a name="l357"><span class="linenum"> 357</span></a>                  <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('password', 'lang:bf_password', 'required|max_length[120]|valid_password');
<a name="l358"><span class="linenum"> 358</span></a>                  <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('pass_confirm', 'lang:bf_password_confirm', 'required|matches[password]');
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>                  if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('run')" href="../../../../_functions/run.html" onMouseOver="funcPopup(event,'run')">run</a>() !== FALSE)
<a name="l361"><span class="linenum"> 361</span></a>                  {
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment">                    // The user model will create the password hash for us.</span>
<a name="l363"><span class="linenum"> 363</span></a>                      <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a> = array('password' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('password'),
<a name="l364"><span class="linenum"> 364</span></a>                                    'reset_by'    =&gt; 0,
<a name="l365"><span class="linenum"> 365</span></a>                                    'reset_hash'    =&gt; '',
<a name="l366"><span class="linenum"> 366</span></a>                                    'force_password_reset' =&gt; 0);
<a name="l367"><span class="linenum"> 367</span></a>  
<a name="l368"><span class="linenum"> 368</span></a>                      if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('user_id'), <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>))
<a name="l369"><span class="linenum"> 369</span></a>                      {
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">                        // Log the Activity</span>
<a name="l371"><span class="linenum"> 371</span></a>                          <a class="function" onClick="logFunction('log_activity')" href="../../../../_functions/log_activity.html" onMouseOver="funcPopup(event,'log_activity')">log_activity</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('user_id'), <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_log_reset') , 'users');
<a name="l372"><span class="linenum"> 372</span></a>  
<a name="l373"><span class="linenum"> 373</span></a>                          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_reset_password_success'), 'success');
<a name="l374"><span class="linenum"> 374</span></a>                          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="constant" onClick="logConstant('LOGIN_URL')" href="../../../../_constants/LOGIN_URL.html" onMouseOver="constPopup(event,'LOGIN_URL')">LOGIN_URL</a>);
<a name="l375"><span class="linenum"> 375</span></a>                      }
<a name="l376"><span class="linenum"> 376</span></a>                      else
<a name="l377"><span class="linenum"> 377</span></a>                      {
<a name="l378"><span class="linenum"> 378</span></a>                          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(sprintf(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_reset_password_error'), <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;error), 'error');
<a name="l379"><span class="linenum"> 379</span></a>  
<a name="l380"><span class="linenum"> 380</span></a>                      }
<a name="l381"><span class="linenum"> 381</span></a>                  }
<a name="l382"><span class="linenum"> 382</span></a>              }<span class="comment">//end if</span>
<a name="l383"><span class="linenum"> 383</span></a>  
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">            // Check the code against the database</span>
<a name="l385"><span class="linenum"> 385</span></a>              <a class="var it252" onMouseOver="hilite(252)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../../../_variables/email.html">$email</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(':', '@', <a class="var it252" onMouseOver="hilite(252)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../../../_variables/email.html">$email</a>);
<a name="l386"><span class="linenum"> 386</span></a>              <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_by')" href="../../../../_functions/find_by.html" onMouseOver="funcPopup(event,'find_by')">find_by</a>(array(
<a name="l387"><span class="linenum"> 387</span></a>                                          'email' =&gt; <a class="var it252" onMouseOver="hilite(252)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../../../_variables/email.html">$email</a>,
<a name="l388"><span class="linenum"> 388</span></a>                                          'reset_hash' =&gt; <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../../../_variables/code.html">$code</a>,
<a name="l389"><span class="linenum"> 389</span></a>                                          'reset_by &gt;=' =&gt; <a class="phpfunction" onClick="logFunction('time')" href="../../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()
<a name="l390"><span class="linenum"> 390</span></a>                                     ));
<a name="l391"><span class="linenum"> 391</span></a>  
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">            // It will be an Object if a single result was returned.</span>
<a name="l393"><span class="linenum"> 393</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_object')" href="../../../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a>))
<a name="l394"><span class="linenum"> 394</span></a>              {
<a name="l395"><span class="linenum"> 395</span></a>                  <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>( <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_reset_invalid_email'), 'error');
<a name="l396"><span class="linenum"> 396</span></a>                  <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="constant" onClick="logConstant('LOGIN_URL')" href="../../../../_constants/LOGIN_URL.html" onMouseOver="constPopup(event,'LOGIN_URL')">LOGIN_URL</a>);
<a name="l397"><span class="linenum"> 397</span></a>              }
<a name="l398"><span class="linenum"> 398</span></a>  
<a name="l399"><span class="linenum"> 399</span></a>              <a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../../../_variables/settings.html">$settings</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('find_all')" href="../../../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l400"><span class="linenum"> 400</span></a>              if (<a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../../../_variables/settings.html">$settings</a>['auth.password_show_labels'] == 1) {
<a name="l401"><span class="linenum"> 401</span></a>                  <a class="class" onClick="logClass('Assets')" href="../../../../_classes/assets.html" onMouseOver="classPopup(event,'assets')">Assets</a>::<a class="function" onClick="logFunction('add_module_js')" href="../../../../_functions/add_module_js.html" onMouseOver="funcPopup(event,'add_module_js')">add_module_js</a>('users','password_strength.js');
<a name="l402"><span class="linenum"> 402</span></a>                  <a class="class" onClick="logClass('Assets')" href="../../../../_classes/assets.html" onMouseOver="classPopup(event,'assets')">Assets</a>::<a class="function" onClick="logFunction('add_module_js')" href="../../../../_functions/add_module_js.html" onMouseOver="funcPopup(event,'add_module_js')">add_module_js</a>('users','jquery.strength.js');
<a name="l403"><span class="linenum"> 403</span></a>                  <a class="class" onClick="logClass('Assets')" href="../../../../_classes/assets.html" onMouseOver="classPopup(event,'assets')">Assets</a>::<a class="function" onClick="logFunction('add_js')" href="../../../../_functions/add_js.html" onMouseOver="funcPopup(event,'add_js')">add_js</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('users_js', array('settings'=&gt;<a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../../../_variables/settings.html">$settings</a>), true), 'inline');
<a name="l404"><span class="linenum"> 404</span></a>              }
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">            // If we're here, then it is a valid request....</span>
<a name="l406"><span class="linenum"> 406</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('user', <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a>);
<a name="l407"><span class="linenum"> 407</span></a>  
<a name="l408"><span class="linenum"> 408</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_view')" href="../../../../_functions/set_view.html" onMouseOver="funcPopup(event,'set_view')">set_view</a>('users/users/reset_password');
<a name="l409"><span class="linenum"> 409</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>();
<a name="l410"><span class="linenum"> 410</span></a>          }
<a name="l411"><span class="linenum"> 411</span></a>          else
<a name="l412"><span class="linenum"> 412</span></a>          {
<a name="l413"><span class="linenum"> 413</span></a>  
<a name="l414"><span class="linenum"> 414</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>('/');
<a name="l415"><span class="linenum"> 415</span></a>          }<span class="comment">//end if</span>
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>      }<span class="comment">//end reset_password()</span>
<a name="l418"><span class="linenum"> 418</span></a>  
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">    //--------------------------------------------------------------------</span>
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>      <span class="comment">/**</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">     * Display the registration form for the user and manage the registration process</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">     *</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment">     * @access public</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">     *</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment">     * @return void</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment">     */</span>
<a name="l428"><span class="linenum"> 428</span></a>  	public function <a class="function" onClick="logFunction('register')" href="../../../../_functions/register.html" onMouseOver="funcPopup(event,'register')">register</a>()
<a name="l429"><span class="linenum"> 429</span></a>      {
<a name="l430"><span class="linenum"> 430</span></a>          <a class="var it1458" onMouseOver="hilite(1458)" onMouseOut="lolite()" onClick="logVariable('redirect_url')" href="../../../../_variables/redirect_url.html">$redirect_url</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('redirect_url') ? <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('redirect_url') : <a class="constant" onClick="logConstant('REGISTER_URL')" href="../../../../_constants/REGISTER_URL.html" onMouseOver="constPopup(event,'REGISTER_URL')">REGISTER_URL</a>;
<a name="l431"><span class="linenum"> 431</span></a>  
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">        // Are users even allowed to register?</span>
<a name="l433"><span class="linenum"> 433</span></a>          if (!<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('auth.allow_register'))
<a name="l434"><span class="linenum"> 434</span></a>          {
<a name="l435"><span class="linenum"> 435</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_register_disabled'), 'error');
<a name="l436"><span class="linenum"> 436</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>('/');
<a name="l437"><span class="linenum"> 437</span></a>          }
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('model')" href="../../../../_functions/model.html" onMouseOver="funcPopup(event,'model')">model</a>('roles/role_model');
<a name="l440"><span class="linenum"> 440</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('helper')" href="../../../../_functions/helper.html" onMouseOver="funcPopup(event,'helper')">helper</a>('date');
<a name="l441"><span class="linenum"> 441</span></a>  
<a name="l442"><span class="linenum"> 442</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('config')" href="../../../../_functions/config.html" onMouseOver="funcPopup(event,'config')">config</a>('address');
<a name="l443"><span class="linenum"> 443</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('helper')" href="../../../../_functions/helper.html" onMouseOver="funcPopup(event,'helper')">helper</a>('address');
<a name="l444"><span class="linenum"> 444</span></a>  
<a name="l445"><span class="linenum"> 445</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('config')" href="../../../../_functions/config.html" onMouseOver="funcPopup(event,'config')">config</a>('user_meta');
<a name="l446"><span class="linenum"> 446</span></a>          <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../../../_variables/meta_fields.html">$meta_fields</a> = <a class="function" onClick="logFunction('config_item')" href="../../../../_functions/config_item.html" onMouseOver="funcPopup(event,'config_item')">config_item</a>('user_meta_fields');
<a name="l447"><span class="linenum"> 447</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('meta_fields', <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../../../_variables/meta_fields.html">$meta_fields</a>);
<a name="l448"><span class="linenum"> 448</span></a>  
<a name="l449"><span class="linenum"> 449</span></a>          if (isset(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['register']))
<a name="l450"><span class="linenum"> 450</span></a>          {
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">            // Validate input</span>
<a name="l452"><span class="linenum"> 452</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('email', 'lang:bf_email', 'required|trim|valid_email|max_length[120]|unique[users.email]');
<a name="l453"><span class="linenum"> 453</span></a>  
<a name="l454"><span class="linenum"> 454</span></a>              <a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('username_required')" href="../../../../_variables/username_required.html">$username_required</a> = '';
<a name="l455"><span class="linenum"> 455</span></a>              if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('auth.login_type') == 'username' ||
<a name="l456"><span class="linenum"> 456</span></a>                  <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('auth.use_usernames'))
<a name="l457"><span class="linenum"> 457</span></a>              {
<a name="l458"><span class="linenum"> 458</span></a>                  <a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('username_required')" href="../../../../_variables/username_required.html">$username_required</a> = 'required|';
<a name="l459"><span class="linenum"> 459</span></a>              }
<a name="l460"><span class="linenum"> 460</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('username', 'lang:bf_username', <a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('username_required')" href="../../../../_variables/username_required.html">$username_required</a> . 'trim|max_length[30]|unique[users.username]');
<a name="l461"><span class="linenum"> 461</span></a>  
<a name="l462"><span class="linenum"> 462</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('password', 'lang:bf_password', 'required|max_length[120]|valid_password');
<a name="l463"><span class="linenum"> 463</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('pass_confirm', 'lang:bf_password_confirm', 'required|matches[password]');
<a name="l464"><span class="linenum"> 464</span></a>  
<a name="l465"><span class="linenum"> 465</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('language', 'lang:bf_language', 'trim');
<a name="l466"><span class="linenum"> 466</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('timezones', 'lang:bf_timezone', 'trim|max_length[4]');
<a name="l467"><span class="linenum"> 467</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('display_name', 'lang:bf_display_name', 'trim|max_length[255]');
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>  
<a name="l470"><span class="linenum"> 470</span></a>              <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('meta_data')" href="../../../../_variables/meta_data.html">$meta_data</a> = array();
<a name="l471"><span class="linenum"> 471</span></a>              foreach (<a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../../../_variables/meta_fields.html">$meta_fields</a> as <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>)
<a name="l472"><span class="linenum"> 472</span></a>              {
<a name="l473"><span class="linenum"> 473</span></a>                  if ((!isset(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only']) || <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only'] === FALSE
<a name="l474"><span class="linenum"> 474</span></a>                      || (isset(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only']) &amp;&amp; <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only'] === TRUE
<a name="l475"><span class="linenum"> 475</span></a>                          &amp;&amp; isset(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>) &amp;&amp; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;role_id == 1))
<a name="l476"><span class="linenum"> 476</span></a>                      &amp;&amp; (!isset(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['frontend']) || <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['frontend'] === TRUE))
<a name="l477"><span class="linenum"> 477</span></a>                  {
<a name="l478"><span class="linenum"> 478</span></a>                      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['name'], <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['label'], <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['rules']);
<a name="l479"><span class="linenum"> 479</span></a>  
<a name="l480"><span class="linenum"> 480</span></a>                      <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('meta_data')" href="../../../../_variables/meta_data.html">$meta_data</a>[<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['name']] = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['name']);
<a name="l481"><span class="linenum"> 481</span></a>                  }
<a name="l482"><span class="linenum"> 482</span></a>              }
<a name="l483"><span class="linenum"> 483</span></a>  
<a name="l484"><span class="linenum"> 484</span></a>              if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('run')" href="../../../../_functions/run.html" onMouseOver="funcPopup(event,'run')">run</a>() !== FALSE)
<a name="l485"><span class="linenum"> 485</span></a>              {
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">                // Time to save the user...</span>
<a name="l487"><span class="linenum"> 487</span></a>                  <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a> = array(
<a name="l488"><span class="linenum"> 488</span></a>                          'email'            =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('email'),
<a name="l489"><span class="linenum"> 489</span></a>                          'password'        =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('password'),
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">                        // 'language'        =&gt; $this-&gt;input-&gt;post('language'),</span>
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">                        // 'timezone'        =&gt; $this-&gt;input-&gt;post('timezones'),</span>
<a name="l492"><span class="linenum"> 492</span></a>  <span class="comment">                        // 'display_name'    =&gt; $this-&gt;input-&gt;post('display_name'),</span>
<a name="l493"><span class="linenum"> 493</span></a>                      );
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>                  if (isset(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['username']))
<a name="l496"><span class="linenum"> 496</span></a>                  {
<a name="l497"><span class="linenum"> 497</span></a>                      <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>['username'] = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('username');
<a name="l498"><span class="linenum"> 498</span></a>                  }
<a name="l499"><span class="linenum"> 499</span></a>  
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">                // User activation method</span>
<a name="l501"><span class="linenum"> 501</span></a>                  <a class="var it1460" onMouseOver="hilite(1460)" onMouseOut="lolite()" onClick="logVariable('activation_method')" href="../../../../_variables/activation_method.html">$activation_method</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('auth.user_activation_method');
<a name="l502"><span class="linenum"> 502</span></a>  
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">                // No activation method</span>
<a name="l504"><span class="linenum"> 504</span></a>                  if (<a class="var it1460" onMouseOver="hilite(1460)" onMouseOut="lolite()" onClick="logVariable('activation_method')" href="../../../../_variables/activation_method.html">$activation_method</a> == 0)
<a name="l505"><span class="linenum"> 505</span></a>                  {
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">                    // Activate the user automatically</span>
<a name="l507"><span class="linenum"> 507</span></a>                      <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>['active'] = 1;
<a name="l508"><span class="linenum"> 508</span></a>                  }
<a name="l509"><span class="linenum"> 509</span></a>  
<a name="l510"><span class="linenum"> 510</span></a>                  if (<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('insert')" href="../../../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>))
<a name="l511"><span class="linenum"> 511</span></a>                  {
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment">                    // now add the meta is there is meta data</span>
<a name="l513"><span class="linenum"> 513</span></a>                      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('save_meta_for')" href="../../../../_functions/save_meta_for.html" onMouseOver="funcPopup(event,'save_meta_for')">save_meta_for</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a>, <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('meta_data')" href="../../../../_variables/meta_data.html">$meta_data</a>);
<a name="l514"><span class="linenum"> 514</span></a>  
<a name="l515"><span class="linenum"> 515</span></a>                      <span class="comment">/*</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">                     * USER ACTIVATIONS ENHANCEMENT</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">                     */</span>
<a name="l518"><span class="linenum"> 518</span></a>  
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">                    // Prepare user messaging vars</span>
<a name="l520"><span class="linenum"> 520</span></a>                      <a class="var it247" onMouseOver="hilite(247)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../../../_variables/subject.html">$subject</a> = '';
<a name="l521"><span class="linenum"> 521</span></a>                      <a class="var it1461" onMouseOver="hilite(1461)" onMouseOut="lolite()" onClick="logVariable('email_mess')" href="../../../../_variables/email_mess.html">$email_mess</a> = '';
<a name="l522"><span class="linenum"> 522</span></a>                      <a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../../_variables/message.html">$message</a> = <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_email_thank_you');
<a name="l523"><span class="linenum"> 523</span></a>                      <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a> = 'success';
<a name="l524"><span class="linenum"> 524</span></a>                      <a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('site_title')" href="../../../../_variables/site_title.html">$site_title</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('site.title');
<a name="l525"><span class="linenum"> 525</span></a>                      <a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../../../_variables/error.html">$error</a> = false;
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>                      switch (<a class="var it1460" onMouseOver="hilite(1460)" onMouseOut="lolite()" onClick="logVariable('activation_method')" href="../../../../_variables/activation_method.html">$activation_method</a>)
<a name="l528"><span class="linenum"> 528</span></a>                      {
<a name="l529"><span class="linenum"> 529</span></a>                          case 0:
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">                            // No activation required. Activate the user and send confirmation email</span>
<a name="l531"><span class="linenum"> 531</span></a>                              <a class="var it247" onMouseOver="hilite(247)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../../../_variables/subject.html">$subject</a>         =  <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('[SITE_TITLE]',<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('site.title'),<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_account_reg_complete'));
<a name="l532"><span class="linenum"> 532</span></a>                              <a class="var it1461" onMouseOver="hilite(1461)" onMouseOut="lolite()" onClick="logVariable('email_mess')" href="../../../../_variables/email_mess.html">$email_mess</a>     = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('_emails/activated', array('title'=&gt;<a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('site_title')" href="../../../../_variables/site_title.html">$site_title</a>,'link' =&gt; <a class="function" onClick="logFunction('site_url')" href="../../../../_functions/site_url.html" onMouseOver="funcPopup(event,'site_url')">site_url</a>()), true);
<a name="l533"><span class="linenum"> 533</span></a>                              <a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../../_variables/message.html">$message</a>         .= <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_account_active_login');
<a name="l534"><span class="linenum"> 534</span></a>                              break;
<a name="l535"><span class="linenum"> 535</span></a>                          case 1:
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">                            // Email Activiation.</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">                            // Create the link to activate membership</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">                            // Run the account deactivate to assure everything is set correctly</span>
<a name="l539"><span class="linenum"> 539</span></a>                              <a class="var it1463" onMouseOver="hilite(1463)" onMouseOut="lolite()" onClick="logVariable('activation_code')" href="../../../../_variables/activation_code.html">$activation_code</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('deactivate')" href="../../../../_functions/deactivate.html" onMouseOver="funcPopup(event,'deactivate')">deactivate</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a>);
<a name="l540"><span class="linenum"> 540</span></a>                              <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('activate_link')" href="../../../../_variables/activate_link.html">$activate_link</a>   = <a class="function" onClick="logFunction('site_url')" href="../../../../_functions/site_url.html" onMouseOver="funcPopup(event,'site_url')">site_url</a>('activate/'. <a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a>);
<a name="l541"><span class="linenum"> 541</span></a>                              <a class="var it247" onMouseOver="hilite(247)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../../../_variables/subject.html">$subject</a>         =  <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_email_subj_activate');
<a name="l542"><span class="linenum"> 542</span></a>  
<a name="l543"><span class="linenum"> 543</span></a>                              <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('email_message_data')" href="../../../../_variables/email_message_data.html">$email_message_data</a> = array(
<a name="l544"><span class="linenum"> 544</span></a>                                  'title' =&gt; <a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('site_title')" href="../../../../_variables/site_title.html">$site_title</a>,
<a name="l545"><span class="linenum"> 545</span></a>                                  'code'  =&gt; <a class="var it1463" onMouseOver="hilite(1463)" onMouseOut="lolite()" onClick="logVariable('activation_code')" href="../../../../_variables/activation_code.html">$activation_code</a>,
<a name="l546"><span class="linenum"> 546</span></a>                                  'link'  =&gt; <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('activate_link')" href="../../../../_variables/activate_link.html">$activate_link</a>
<a name="l547"><span class="linenum"> 547</span></a>                              );
<a name="l548"><span class="linenum"> 548</span></a>                              <a class="var it1461" onMouseOver="hilite(1461)" onMouseOut="lolite()" onClick="logVariable('email_mess')" href="../../../../_variables/email_mess.html">$email_mess</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('_emails/activate', <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('email_message_data')" href="../../../../_variables/email_message_data.html">$email_message_data</a>, true);
<a name="l549"><span class="linenum"> 549</span></a>                              <a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../../_variables/message.html">$message</a>   .= <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_check_activate_email');
<a name="l550"><span class="linenum"> 550</span></a>                              break;
<a name="l551"><span class="linenum"> 551</span></a>                          case 2:
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">                            // Admin Activation</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">                            // Clear hash but leave user inactive</span>
<a name="l554"><span class="linenum"> 554</span></a>                              <a class="var it247" onMouseOver="hilite(247)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../../../_variables/subject.html">$subject</a>    =  <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_email_subj_pending');
<a name="l555"><span class="linenum"> 555</span></a>                              <a class="var it1461" onMouseOver="hilite(1461)" onMouseOut="lolite()" onClick="logVariable('email_mess')" href="../../../../_variables/email_mess.html">$email_mess</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('_emails/pending', array('title'=&gt;<a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('site_title')" href="../../../../_variables/site_title.html">$site_title</a>), true);
<a name="l556"><span class="linenum"> 556</span></a>                              <a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../../_variables/message.html">$message</a>   .= <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_admin_approval_pending');
<a name="l557"><span class="linenum"> 557</span></a>                              break;
<a name="l558"><span class="linenum"> 558</span></a>                      }<span class="comment">//end switch</span>
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">                    // Now send the email</span>
<a name="l561"><span class="linenum"> 561</span></a>                      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('library')" href="../../../../_functions/library.html" onMouseOver="funcPopup(event,'library')">library</a>('emailer/emailer');
<a name="l562"><span class="linenum"> 562</span></a>                      <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a> = array(
<a name="l563"><span class="linenum"> 563</span></a>                          'to'        =&gt; <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email'],
<a name="l564"><span class="linenum"> 564</span></a>                          'subject'    =&gt; <a class="var it247" onMouseOver="hilite(247)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../../../_variables/subject.html">$subject</a>,
<a name="l565"><span class="linenum"> 565</span></a>                          'message'    =&gt; <a class="var it1461" onMouseOver="hilite(1461)" onMouseOut="lolite()" onClick="logVariable('email_mess')" href="../../../../_variables/email_mess.html">$email_mess</a>
<a name="l566"><span class="linenum"> 566</span></a>                      );
<a name="l567"><span class="linenum"> 567</span></a>  
<a name="l568"><span class="linenum"> 568</span></a>                      if (!<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;<a class="function" onClick="logFunction('send')" href="../../../../_functions/send.html" onMouseOver="funcPopup(event,'send')">send</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>))
<a name="l569"><span class="linenum"> 569</span></a>                      {
<a name="l570"><span class="linenum"> 570</span></a>                          <a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../../_variables/message.html">$message</a> .= <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_err_no_email'). <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;error;
<a name="l571"><span class="linenum"> 571</span></a>                          <a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../../../_variables/error.html">$error</a>    = true;
<a name="l572"><span class="linenum"> 572</span></a>                      }
<a name="l573"><span class="linenum"> 573</span></a>  
<a name="l574"><span class="linenum"> 574</span></a>                      if (<a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../../../_variables/error.html">$error</a>)
<a name="l575"><span class="linenum"> 575</span></a>                      {
<a name="l576"><span class="linenum"> 576</span></a>                          <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a> = 'error';
<a name="l577"><span class="linenum"> 577</span></a>                      }
<a name="l578"><span class="linenum"> 578</span></a>                      else
<a name="l579"><span class="linenum"> 579</span></a>                      {
<a name="l580"><span class="linenum"> 580</span></a>                          <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a> = 'success';
<a name="l581"><span class="linenum"> 581</span></a>                      }
<a name="l582"><span class="linenum"> 582</span></a>  
<a name="l583"><span class="linenum"> 583</span></a>                      <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../../_variables/message.html">$message</a>, <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>);
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">                    // Log the Activity</span>
<a name="l586"><span class="linenum"> 586</span></a>  
<a name="l587"><span class="linenum"> 587</span></a>                      <a class="function" onClick="logFunction('log_activity')" href="../../../../_functions/log_activity.html" onMouseOver="funcPopup(event,'log_activity')">log_activity</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a>, <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_log_register'), 'users');
<a name="l588"><span class="linenum"> 588</span></a>                      <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it1458" onMouseOver="hilite(1458)" onMouseOut="lolite()" onClick="logVariable('redirect_url')" href="../../../../_variables/redirect_url.html">$redirect_url</a>);
<a name="l589"><span class="linenum"> 589</span></a>                  }
<a name="l590"><span class="linenum"> 590</span></a>                  else
<a name="l591"><span class="linenum"> 591</span></a>                  {
<a name="l592"><span class="linenum"> 592</span></a>                      <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_registration_fail'), 'error');
<a name="l593"><span class="linenum"> 593</span></a>                      <a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it1458" onMouseOver="hilite(1458)" onMouseOut="lolite()" onClick="logVariable('redirect_url')" href="../../../../_variables/redirect_url.html">$redirect_url</a>);
<a name="l594"><span class="linenum"> 594</span></a>                  }<span class="comment">//end if</span>
<a name="l595"><span class="linenum"> 595</span></a>              }<span class="comment">//end if</span>
<a name="l596"><span class="linenum"> 596</span></a>          }<span class="comment">//end if</span>
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('redirect_url'))
<a name="l599"><span class="linenum"> 599</span></a>          {
<a name="l600"><span class="linenum"> 600</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>( <a class="function" onClick="logFunction('validation_errors')" href="../../../../_functions/validation_errors.html" onMouseOver="funcPopup(event,'validation_errors')">validation_errors</a>(), 'error');
<a name="l601"><span class="linenum"> 601</span></a>              <a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it1458" onMouseOver="hilite(1458)" onMouseOut="lolite()" onClick="logVariable('redirect_url')" href="../../../../_variables/redirect_url.html">$redirect_url</a>);
<a name="l602"><span class="linenum"> 602</span></a>          }
<a name="l603"><span class="linenum"> 603</span></a>  
<a name="l604"><span class="linenum"> 604</span></a>          <a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../../../_variables/settings.html">$settings</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('find_all')" href="../../../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l605"><span class="linenum"> 605</span></a>          if (<a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../../../_variables/settings.html">$settings</a>['auth.password_show_labels'] == 1) {
<a name="l606"><span class="linenum"> 606</span></a>              <a class="class" onClick="logClass('Assets')" href="../../../../_classes/assets.html" onMouseOver="classPopup(event,'assets')">Assets</a>::<a class="function" onClick="logFunction('add_module_js')" href="../../../../_functions/add_module_js.html" onMouseOver="funcPopup(event,'add_module_js')">add_module_js</a>('users','password_strength.js');
<a name="l607"><span class="linenum"> 607</span></a>              <a class="class" onClick="logClass('Assets')" href="../../../../_classes/assets.html" onMouseOver="classPopup(event,'assets')">Assets</a>::<a class="function" onClick="logFunction('add_module_js')" href="../../../../_functions/add_module_js.html" onMouseOver="funcPopup(event,'add_module_js')">add_module_js</a>('users','jquery.strength.js');
<a name="l608"><span class="linenum"> 608</span></a>              <a class="class" onClick="logClass('Assets')" href="../../../../_classes/assets.html" onMouseOver="classPopup(event,'assets')">Assets</a>::<a class="function" onClick="logFunction('add_js')" href="../../../../_functions/add_js.html" onMouseOver="funcPopup(event,'add_js')">add_js</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('users_js', array('settings'=&gt;<a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../../../_variables/settings.html">$settings</a>), true), 'inline');
<a name="l609"><span class="linenum"> 609</span></a>          }
<a name="l610"><span class="linenum"> 610</span></a>  
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">        // Generate password hint messages.</span>
<a name="l612"><span class="linenum"> 612</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('password_hints')" href="../../../../_functions/password_hints.html" onMouseOver="funcPopup(event,'password_hints')">password_hints</a>();
<a name="l613"><span class="linenum"> 613</span></a>  
<a name="l614"><span class="linenum"> 614</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('languages', <a class="phpfunction" onClick="logFunction('unserialize')" href="../../../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('site.languages')));
<a name="l615"><span class="linenum"> 615</span></a>  
<a name="l616"><span class="linenum"> 616</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_view')" href="../../../../_functions/set_view.html" onMouseOver="funcPopup(event,'set_view')">set_view</a>('users/users/register');
<a name="l617"><span class="linenum"> 617</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('page_title', 'Register');
<a name="l618"><span class="linenum"> 618</span></a>          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>();
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>      }<span class="comment">//end register()</span>
<a name="l621"><span class="linenum"> 621</span></a>  
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">    //--------------------------------------------------------------------</span>
<a name="l623"><span class="linenum"> 623</span></a>  
<a name="l624"><span class="linenum"> 624</span></a>      <span class="comment">/**</span>
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">     * Save the user</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">     *</span>
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">     * @access private</span>
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">     *</span>
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">     * @param int   $id          The id of the user in the case of an edit operation</span>
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">     * @param array $meta_fields Array of meta fields fur the user</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">     *</span>
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment">     * @return bool</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">     */</span>
<a name="l634"><span class="linenum"> 634</span></a>  	private function <a class="function" onClick="logFunction('save_user')" href="../../../../_functions/save_user.html" onMouseOver="funcPopup(event,'save_user')">save_user</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../../_variables/id.html">$id</a>=0, <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../../../_variables/meta_fields.html">$meta_fields</a>=array())
<a name="l635"><span class="linenum"> 635</span></a>      {
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>          if ( <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../../_variables/id.html">$id</a> == 0 )
<a name="l638"><span class="linenum"> 638</span></a>          {
<a name="l639"><span class="linenum"> 639</span></a>              <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../../_variables/id.html">$id</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;id; <span class="comment">/* ( $this-&gt;input-&gt;post('id') &gt; 0 ) ? $this-&gt;input-&gt;post('id') :  */</span>
<a name="l640"><span class="linenum"> 640</span></a>          }
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['id'] = <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../../_variables/id.html">$id</a>;
<a name="l643"><span class="linenum"> 643</span></a>  
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment">        // Simple check to make the posted id is equal to the current user's id, minor security check</span>
<a name="l645"><span class="linenum"> 645</span></a>          if ( <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['id'] != <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;id )
<a name="l646"><span class="linenum"> 646</span></a>          {
<a name="l647"><span class="linenum"> 647</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>('email', 'lang:us_invalid_userid');
<a name="l648"><span class="linenum"> 648</span></a>              return FALSE;
<a name="l649"><span class="linenum"> 649</span></a>          }
<a name="l650"><span class="linenum"> 650</span></a>  
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">        // Setting the payload for Events system.</span>
<a name="l652"><span class="linenum"> 652</span></a>          <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('payload')" href="../../../../_variables/payload.html">$payload</a> = array ( 'user_id' =&gt; <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../../_variables/id.html">$id</a>, 'data' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>() );
<a name="l653"><span class="linenum"> 653</span></a>  
<a name="l654"><span class="linenum"> 654</span></a>  
<a name="l655"><span class="linenum"> 655</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('email', 'lang:bf_email', 'required|trim|valid_email|max_length[120]|unique[users.email,users.id]');
<a name="l656"><span class="linenum"> 656</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('password', 'lang:bf_password', 'max_length[120]|valid_password');
<a name="l657"><span class="linenum"> 657</span></a>  
<a name="l658"><span class="linenum"> 658</span></a>  <span class="comment">        // check if a value has been entered for the password - if so then the pass_confirm is required</span>
<a name="l659"><span class="linenum"> 659</span></a>  <span class="comment">        // if you don't set it as &quot;required&quot; the pass_confirm field could be left blank and the form validation would still pass</span>
<a name="l660"><span class="linenum"> 660</span></a>          <a class="var it1466" onMouseOver="hilite(1466)" onMouseOut="lolite()" onClick="logVariable('extra_rules')" href="../../../../_variables/extra_rules.html">$extra_rules</a> = !empty(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['password']) ? 'required|' : '';
<a name="l661"><span class="linenum"> 661</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('pass_confirm', 'lang:bf_password_confirm', ''.<a class="var it1466" onMouseOver="hilite(1466)" onMouseOut="lolite()" onClick="logVariable('extra_rules')" href="../../../../_variables/extra_rules.html">$extra_rules</a>.'matches[password]');
<a name="l662"><span class="linenum"> 662</span></a>  
<a name="l663"><span class="linenum"> 663</span></a>          <a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('username_required')" href="../../../../_variables/username_required.html">$username_required</a> = '';
<a name="l664"><span class="linenum"> 664</span></a>          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('auth.login_type') == 'username' ||
<a name="l665"><span class="linenum"> 665</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('auth.use_usernames'))
<a name="l666"><span class="linenum"> 666</span></a>          {
<a name="l667"><span class="linenum"> 667</span></a>              <a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('username_required')" href="../../../../_variables/username_required.html">$username_required</a> = 'required|';
<a name="l668"><span class="linenum"> 668</span></a>          }
<a name="l669"><span class="linenum"> 669</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('username', 'lang:bf_username', <a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('username_required')" href="../../../../_variables/username_required.html">$username_required</a> . 'trim|max_length[30]|unique[users.username,users.id]');
<a name="l670"><span class="linenum"> 670</span></a>  
<a name="l671"><span class="linenum"> 671</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('language', 'lang:bf_language', 'required|trim');
<a name="l672"><span class="linenum"> 672</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('timezones', 'lang:bf_timezone', 'required|trim|max_length[4]');
<a name="l673"><span class="linenum"> 673</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('display_name', 'lang:bf_display_name', 'trim|max_length[255]');
<a name="l674"><span class="linenum"> 674</span></a>  
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">        // Added Event &quot;before_user_validation&quot; to run before the form validation</span>
<a name="l676"><span class="linenum"> 676</span></a>          <a class="class" onClick="logClass('Events')" href="../../../../_classes/events.html" onMouseOver="classPopup(event,'events')">Events</a>::<a class="function" onClick="logFunction('trigger')" href="../../../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>('before_user_validation', <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('payload')" href="../../../../_variables/payload.html">$payload</a> );
<a name="l677"><span class="linenum"> 677</span></a>  
<a name="l678"><span class="linenum"> 678</span></a>  
<a name="l679"><span class="linenum"> 679</span></a>          foreach (<a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../../../_variables/meta_fields.html">$meta_fields</a> as <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>)
<a name="l680"><span class="linenum"> 680</span></a>          {
<a name="l681"><span class="linenum"> 681</span></a>              if ((!isset(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only']) || <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only'] === FALSE
<a name="l682"><span class="linenum"> 682</span></a>                  || (isset(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only']) &amp;&amp; <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['admin_only'] === TRUE
<a name="l683"><span class="linenum"> 683</span></a>                      &amp;&amp; isset(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>) &amp;&amp; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_user')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/current_user.html">current_user</a>-&gt;role_id == 1))
<a name="l684"><span class="linenum"> 684</span></a>                  &amp;&amp; (!isset(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['frontend']) || <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['frontend'] === TRUE))
<a name="l685"><span class="linenum"> 685</span></a>              {
<a name="l686"><span class="linenum"> 686</span></a>                  <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['name'], <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['label'], <a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../../_variables/field.html">$field</a>['rules']);
<a name="l687"><span class="linenum"> 687</span></a>              }
<a name="l688"><span class="linenum"> 688</span></a>          }
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>  
<a name="l691"><span class="linenum"> 691</span></a>          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('run')" href="../../../../_functions/run.html" onMouseOver="funcPopup(event,'run')">run</a>() === FALSE)
<a name="l692"><span class="linenum"> 692</span></a>          {
<a name="l693"><span class="linenum"> 693</span></a>              return FALSE;
<a name="l694"><span class="linenum"> 694</span></a>          }
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">        // Compile our core user elements to save.</span>
<a name="l697"><span class="linenum"> 697</span></a>          <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a> = array(
<a name="l698"><span class="linenum"> 698</span></a>              'email'        =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('email'),
<a name="l699"><span class="linenum"> 699</span></a>              'language'    =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('language'),
<a name="l700"><span class="linenum"> 700</span></a>              'timezone'    =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('timezones'),
<a name="l701"><span class="linenum"> 701</span></a>          );
<a name="l702"><span class="linenum"> 702</span></a>  
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment">        // If empty, the password will be left unchanged.</span>
<a name="l704"><span class="linenum"> 704</span></a>          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('password') !== '')
<a name="l705"><span class="linenum"> 705</span></a>          {
<a name="l706"><span class="linenum"> 706</span></a>              <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>['password'] = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('password');
<a name="l707"><span class="linenum"> 707</span></a>          }
<a name="l708"><span class="linenum"> 708</span></a>  
<a name="l709"><span class="linenum"> 709</span></a>          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('display_name') !== '')
<a name="l710"><span class="linenum"> 710</span></a>          {
<a name="l711"><span class="linenum"> 711</span></a>              <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>['display_name'] = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('display_name');
<a name="l712"><span class="linenum"> 712</span></a>          }
<a name="l713"><span class="linenum"> 713</span></a>  
<a name="l714"><span class="linenum"> 714</span></a>          if (isset(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['username']))
<a name="l715"><span class="linenum"> 715</span></a>          {
<a name="l716"><span class="linenum"> 716</span></a>              <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>['username'] = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('username');
<a name="l717"><span class="linenum"> 717</span></a>          }
<a name="l718"><span class="linenum"> 718</span></a>  
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment">        // Any modules needing to save data?</span>
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment">        // Event to run after saving a user</span>
<a name="l721"><span class="linenum"> 721</span></a>          <a class="class" onClick="logClass('Events')" href="../../../../_classes/events.html" onMouseOver="classPopup(event,'events')">Events</a>::<a class="function" onClick="logFunction('trigger')" href="../../../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>('save_user', <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('payload')" href="../../../../_variables/payload.html">$payload</a> );
<a name="l722"><span class="linenum"> 722</span></a>  
<a name="l723"><span class="linenum"> 723</span></a>          return <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../../_variables/id.html">$id</a>, <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>);
<a name="l724"><span class="linenum"> 724</span></a>  
<a name="l725"><span class="linenum"> 725</span></a>      }<span class="comment">//end save_user()</span>
<a name="l726"><span class="linenum"> 726</span></a>  
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">    //--------------------------------------------------------------------</span>
<a name="l728"><span class="linenum"> 728</span></a>  
<a name="l729"><span class="linenum"> 729</span></a>  <span class="comment">        //--------------------------------------------------------------------</span>
<a name="l730"><span class="linenum"> 730</span></a>  <span class="comment">        // ACTIVATION METHODS</span>
<a name="l731"><span class="linenum"> 731</span></a>  <span class="comment">        //--------------------------------------------------------------------</span>
<a name="l732"><span class="linenum"> 732</span></a>          <span class="comment">/*</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment">            Activate user.</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment"></span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">            Checks a passed activation code and if verified, enables the user</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment">            account. If the code fails, an error is generated and returned.</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment"></span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment">        */</span>
<a name="l739"><span class="linenum"> 739</span></a>  		public function <a class="function" onClick="logFunction('activate')" href="../../../../_functions/activate.html" onMouseOver="funcPopup(event,'activate')">activate</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a> = NULL)
<a name="l740"><span class="linenum"> 740</span></a>          {
<a name="l741"><span class="linenum"> 741</span></a>              if (isset(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['activate']))
<a name="l742"><span class="linenum"> 742</span></a>              {
<a name="l743"><span class="linenum"> 743</span></a>                  <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('code', 'Verification Code', 'required|trim');
<a name="l744"><span class="linenum"> 744</span></a>                  if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('run')" href="../../../../_functions/run.html" onMouseOver="funcPopup(event,'run')">run</a>() == TRUE)
<a name="l745"><span class="linenum"> 745</span></a>                  {
<a name="l746"><span class="linenum"> 746</span></a>                      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../../../_variables/code.html">$code</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>('code');
<a name="l747"><span class="linenum"> 747</span></a>  
<a name="l748"><span class="linenum"> 748</span></a>                      <a class="var it1467" onMouseOver="hilite(1467)" onMouseOut="lolite()" onClick="logVariable('activated')" href="../../../../_variables/activated.html">$activated</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('activate')" href="../../../../_functions/activate.html" onMouseOver="funcPopup(event,'activate')">activate</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a>, <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../../../_variables/code.html">$code</a>);
<a name="l749"><span class="linenum"> 749</span></a>                      if (<a class="var it1467" onMouseOver="hilite(1467)" onMouseOut="lolite()" onClick="logVariable('activated')" href="../../../../_variables/activated.html">$activated</a>)
<a name="l750"><span class="linenum"> 750</span></a>                      {
<a name="l751"><span class="linenum"> 751</span></a>                          <a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a> = <a class="var it1467" onMouseOver="hilite(1467)" onMouseOut="lolite()" onClick="logVariable('activated')" href="../../../../_variables/activated.html">$activated</a>;
<a name="l752"><span class="linenum"> 752</span></a>  
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment">                        // Now send the email</span>
<a name="l754"><span class="linenum"> 754</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('library')" href="../../../../_functions/library.html" onMouseOver="funcPopup(event,'library')">library</a>('emailer/emailer');
<a name="l755"><span class="linenum"> 755</span></a>  
<a name="l756"><span class="linenum"> 756</span></a>                          <a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('site_title')" href="../../../../_variables/site_title.html">$site_title</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('site.title');
<a name="l757"><span class="linenum"> 757</span></a>  
<a name="l758"><span class="linenum"> 758</span></a>                          <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('email_message_data')" href="../../../../_variables/email_message_data.html">$email_message_data</a> = array(
<a name="l759"><span class="linenum"> 759</span></a>                              'title' =&gt; <a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('site_title')" href="../../../../_variables/site_title.html">$site_title</a>,
<a name="l760"><span class="linenum"> 760</span></a>                              'link'  =&gt; <a class="function" onClick="logFunction('site_url')" href="../../../../_functions/site_url.html" onMouseOver="funcPopup(event,'site_url')">site_url</a>(<a class="constant" onClick="logConstant('LOGIN_URL')" href="../../../../_constants/LOGIN_URL.html" onMouseOver="constPopup(event,'LOGIN_URL')">LOGIN_URL</a>)
<a name="l761"><span class="linenum"> 761</span></a>                          );
<a name="l762"><span class="linenum"> 762</span></a>                          <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a> = array
<a name="l763"><span class="linenum"> 763</span></a>                          (
<a name="l764"><span class="linenum"> 764</span></a>                              'to'        =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../../../_variables/user_id.html">$user_id</a>)-&gt;email,
<a name="l765"><span class="linenum"> 765</span></a>                              'subject'    =&gt; <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_account_active'),
<a name="l766"><span class="linenum"> 766</span></a>                              'message'    =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('_emails/activated', <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('email_message_data')" href="../../../../_variables/email_message_data.html">$email_message_data</a>, TRUE)
<a name="l767"><span class="linenum"> 767</span></a>                          );
<a name="l768"><span class="linenum"> 768</span></a>  
<a name="l769"><span class="linenum"> 769</span></a>                          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;<a class="function" onClick="logFunction('send')" href="../../../../_functions/send.html" onMouseOver="funcPopup(event,'send')">send</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>))
<a name="l770"><span class="linenum"> 770</span></a>                          {
<a name="l771"><span class="linenum"> 771</span></a>                              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_account_active'), 'success');
<a name="l772"><span class="linenum"> 772</span></a>                          }
<a name="l773"><span class="linenum"> 773</span></a>                          else
<a name="l774"><span class="linenum"> 774</span></a>                          {
<a name="l775"><span class="linenum"> 775</span></a>                              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_err_no_email'). <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;error, 'error');
<a name="l776"><span class="linenum"> 776</span></a>                          }
<a name="l777"><span class="linenum"> 777</span></a>                          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>('/');
<a name="l778"><span class="linenum"> 778</span></a>                      }
<a name="l779"><span class="linenum"> 779</span></a>                      else
<a name="l780"><span class="linenum"> 780</span></a>                      {
<a name="l781"><span class="linenum"> 781</span></a>                          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;error.'. '. <a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_err_activate_code'), 'error');
<a name="l782"><span class="linenum"> 782</span></a>                      }
<a name="l783"><span class="linenum"> 783</span></a>                  }
<a name="l784"><span class="linenum"> 784</span></a>              }
<a name="l785"><span class="linenum"> 785</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_view')" href="../../../../_functions/set_view.html" onMouseOver="funcPopup(event,'set_view')">set_view</a>('users/users/activate');
<a name="l786"><span class="linenum"> 786</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('page_title', 'Account Activation');
<a name="l787"><span class="linenum"> 787</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>();
<a name="l788"><span class="linenum"> 788</span></a>          }
<a name="l789"><span class="linenum"> 789</span></a>  
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">        //--------------------------------------------------------------------</span>
<a name="l791"><span class="linenum"> 791</span></a>  
<a name="l792"><span class="linenum"> 792</span></a>          <span class="comment">/*</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment">               Method: resend_activation</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment"></span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment">               Allows a user to request that their activation code be resent to their</span>
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment">               account's email address. If a matching email is found, the code is resent.</span>
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment">           */</span>
<a name="l798"><span class="linenum"> 798</span></a>  		public function <a class="function" onClick="logFunction('resend_activation')" href="../../../../_functions/resend_activation.html" onMouseOver="funcPopup(event,'resend_activation')">resend_activation</a>()
<a name="l799"><span class="linenum"> 799</span></a>          {
<a name="l800"><span class="linenum"> 800</span></a>              if (isset(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['send']))
<a name="l801"><span class="linenum"> 801</span></a>              {
<a name="l802"><span class="linenum"> 802</span></a>                  <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>('email', 'lang:bf_email', 'required|trim|valid_email');
<a name="l803"><span class="linenum"> 803</span></a>  
<a name="l804"><span class="linenum"> 804</span></a>                  if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('run')" href="../../../../_functions/run.html" onMouseOver="funcPopup(event,'run')">run</a>())
<a name="l805"><span class="linenum"> 805</span></a>                  {
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">                    // We validated. Does the user actually exist?</span>
<a name="l807"><span class="linenum"> 807</span></a>                      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_by')" href="../../../../_functions/find_by.html" onMouseOver="funcPopup(event,'find_by')">find_by</a>('email', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email']);
<a name="l808"><span class="linenum"> 808</span></a>  
<a name="l809"><span class="linenum"> 809</span></a>                      if (<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a> !== FALSE)
<a name="l810"><span class="linenum"> 810</span></a>                      {
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">                        // User exists, so create a temp password.</span>
<a name="l812"><span class="linenum"> 812</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('helpers')" href="../../../../_functions/helpers.html" onMouseOver="funcPopup(event,'helpers')">helpers</a>(array('string', 'security'));
<a name="l813"><span class="linenum"> 813</span></a>  
<a name="l814"><span class="linenum"> 814</span></a>                          <a class="var it1451" onMouseOver="hilite(1451)" onMouseOut="lolite()" onClick="logVariable('pass_code')" href="../../../../_variables/pass_code.html">$pass_code</a> = <a class="function" onClick="logFunction('random_string')" href="../../../../_functions/random_string.html" onMouseOver="funcPopup(event,'random_string')">random_string</a>('alnum', 40);
<a name="l815"><span class="linenum"> 815</span></a>  
<a name="l816"><span class="linenum"> 816</span></a>                          <a class="var it1463" onMouseOver="hilite(1463)" onMouseOut="lolite()" onClick="logVariable('activation_code')" href="../../../../_variables/activation_code.html">$activation_code</a> = <a class="function" onClick="logFunction('do_hash')" href="../../../../_functions/do_hash.html" onMouseOver="funcPopup(event,'do_hash')">do_hash</a>(<a class="var it1451" onMouseOver="hilite(1451)" onMouseOut="lolite()" onClick="logVariable('pass_code')" href="../../../../_variables/pass_code.html">$pass_code</a> . <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('password_hash')" class="var it2878" onMouseOver="hilite(2878)" onMouseOut="lolite()" href="../../../../_variables/password_hash.html">password_hash</a> . <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email']);
<a name="l817"><span class="linenum"> 817</span></a>  
<a name="l818"><span class="linenum"> 818</span></a>                          <a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('site_title')" href="../../../../_variables/site_title.html">$site_title</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('site.title');
<a name="l819"><span class="linenum"> 819</span></a>  
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">                        // Save the hash to the db so we can confirm it later.</span>
<a name="l821"><span class="linenum"> 821</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('update_where')" href="../../../../_functions/update_where.html" onMouseOver="funcPopup(event,'update_where')">update_where</a>('email', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email'], array('activate_hash' =&gt; <a class="var it1463" onMouseOver="hilite(1463)" onMouseOut="lolite()" onClick="logVariable('activation_code')" href="../../../../_variables/activation_code.html">$activation_code</a> ));
<a name="l822"><span class="linenum"> 822</span></a>  
<a name="l823"><span class="linenum"> 823</span></a>  <span class="comment">                        // Create the link to reset the password</span>
<a name="l824"><span class="linenum"> 824</span></a>                          <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('activate_link')" href="../../../../_variables/activate_link.html">$activate_link</a> = <a class="function" onClick="logFunction('site_url')" href="../../../../_functions/site_url.html" onMouseOver="funcPopup(event,'site_url')">site_url</a>('activate/'. <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('@', ':', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email']) .'/'. <a class="var it1463" onMouseOver="hilite(1463)" onMouseOut="lolite()" onClick="logVariable('activation_code')" href="../../../../_variables/activation_code.html">$activation_code</a>);
<a name="l825"><span class="linenum"> 825</span></a>  
<a name="l826"><span class="linenum"> 826</span></a>  <span class="comment">                        // Now send the email</span>
<a name="l827"><span class="linenum"> 827</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('library')" href="../../../../_functions/library.html" onMouseOver="funcPopup(event,'library')">library</a>('emailer/emailer');
<a name="l828"><span class="linenum"> 828</span></a>  
<a name="l829"><span class="linenum"> 829</span></a>                          <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('email_message_data')" href="../../../../_variables/email_message_data.html">$email_message_data</a> = array(
<a name="l830"><span class="linenum"> 830</span></a>                              'title' =&gt; <a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('site_title')" href="../../../../_variables/site_title.html">$site_title</a>,
<a name="l831"><span class="linenum"> 831</span></a>                              'code'  =&gt; <a class="var it1463" onMouseOver="hilite(1463)" onMouseOut="lolite()" onClick="logVariable('activation_code')" href="../../../../_variables/activation_code.html">$activation_code</a>,
<a name="l832"><span class="linenum"> 832</span></a>                              'link'  =&gt; <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('activate_link')" href="../../../../_variables/activate_link.html">$activate_link</a>
<a name="l833"><span class="linenum"> 833</span></a>                          );
<a name="l834"><span class="linenum"> 834</span></a>  
<a name="l835"><span class="linenum"> 835</span></a>                          <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a> = array
<a name="l836"><span class="linenum"> 836</span></a>                          (
<a name="l837"><span class="linenum"> 837</span></a>                              'to'        =&gt; <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../../../_variables/_POST.html">$_POST</a>['email'],
<a name="l838"><span class="linenum"> 838</span></a>                              'subject'    =&gt; 'Activation Code',
<a name="l839"><span class="linenum"> 839</span></a>                              'message'    =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('load')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/load.html">load</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('_emails/activate', <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('email_message_data')" href="../../../../_variables/email_message_data.html">$email_message_data</a>, TRUE)
<a name="l840"><span class="linenum"> 840</span></a>                          );
<a name="l841"><span class="linenum"> 841</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;<a class="function" onClick="logFunction('enable_debug')" href="../../../../_functions/enable_debug.html" onMouseOver="funcPopup(event,'enable_debug')">enable_debug</a>(true);
<a name="l842"><span class="linenum"> 842</span></a>                          if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;<a class="function" onClick="logFunction('send')" href="../../../../_functions/send.html" onMouseOver="funcPopup(event,'send')">send</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>))
<a name="l843"><span class="linenum"> 843</span></a>                          {
<a name="l844"><span class="linenum"> 844</span></a>                              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_check_activate_email'), 'success');
<a name="l845"><span class="linenum"> 845</span></a>                          }
<a name="l846"><span class="linenum"> 846</span></a>                          else
<a name="l847"><span class="linenum"> 847</span></a>                          {
<a name="l848"><span class="linenum"> 848</span></a>                              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>(<a class="function" onClick="logFunction('lang')" href="../../../../_functions/lang.html" onMouseOver="funcPopup(event,'lang')">lang</a>('us_err_no_email').<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;error.&quot;, &quot;.<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('emailer')" class="var it2867" onMouseOver="hilite(2867)" onMouseOut="lolite()" href="../../../../_variables/emailer.html">emailer</a>-&gt;debug_message, 'error');
<a name="l849"><span class="linenum"> 849</span></a>                          }
<a name="l850"><span class="linenum"> 850</span></a>                      }
<a name="l851"><span class="linenum"> 851</span></a>                      else
<a name="l852"><span class="linenum"> 852</span></a>                      {
<a name="l853"><span class="linenum"> 853</span></a>                          <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_message')" href="../../../../_functions/set_message.html" onMouseOver="funcPopup(event,'set_message')">set_message</a>('Cannot find that email in our records.', 'error');
<a name="l854"><span class="linenum"> 854</span></a>                      }
<a name="l855"><span class="linenum"> 855</span></a>                  }
<a name="l856"><span class="linenum"> 856</span></a>              }
<a name="l857"><span class="linenum"> 857</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set_view')" href="../../../../_functions/set_view.html" onMouseOver="funcPopup(event,'set_view')">set_view</a>('users/users/resend_activation');
<a name="l858"><span class="linenum"> 858</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('page_title', 'Activate Account');
<a name="l859"><span class="linenum"> 859</span></a>              <a class="class" onClick="logClass('Template')" href="../../../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>();
<a name="l860"><span class="linenum"> 860</span></a>          }
<a name="l861"><span class="linenum"> 861</span></a>  
<a name="l862"><span class="linenum"> 862</span></a>  }<span class="comment">//end Users</span>
<a name="l863"><span class="linenum"> 863</span></a>  
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">/* Front-end Users Controller */</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">/* End of file users.php */</span>
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'insert': ['insert', 'Insert ', [['bonfire/codeigniter/database','DB_active_rec.php',1154],['tests/_support','database.php',33],['bonfire/codeigniter/libraries','Cart.php',78],['application/core','MY_Model.php',584],['bonfire/modules/users/models','user_model.php',272]], 61],
'update_where': ['update_where', 'A convenience method that allows you to use any field/value pair as the \'where\' portion of your update. ', [['application/core','MY_Model.php',717]], 8],
'activate': ['activate', '', [['bonfire/modules/users/controllers','users.php',739],['bonfire/modules/users/models','user_model.php',861]], 21],
'find_by': ['find_by', 'Find By ', [['bonfire/modules/settings/libraries','settings_lib.php',241],['application/core','MY_Model.php',526],['bonfire/modules/users/models','user_model.php',476]], 25],
'userdata': ['userdata', 'Fetch a specific item from the session array ', [['bonfire/codeigniter/libraries','Session.php',424]], 26],
'view': ['view', '', [['application/third_party/MX','Loader.php',261],['bonfire/modules/logs/controllers','developer.php',182],['bonfire/codeigniter/core','Loader.php',401]], 42],
'save_user': ['save_user', 'Save the user ', [['bonfire/modules/users/controllers','users.php',624],['bonfire/modules/users/controllers','settings.php',489],['bonfire/docs','bonfire_models.md',502]], 3],
'logout': ['logout', 'Calls the auth->logout method to destroy the session and cleanup, then redirects to the home page. ', [['bonfire/modules/users/controllers','users.php',127],['bonfire/modules/users/libraries','auth.php',260]], 2],
'__construct': ['__construct', 'Constructor ', [['bonfire/modules/activities/controllers','reports.php',35],['tests/simpletest','arguments.php',17],['tests/simpletest','arguments.php',143],['bonfire/libraries','BF_Cache_file.php',32],['bonfire/codeigniter/libraries','Email.php',81],['bonfire/libraries','assets.php',166],['bonfire/codeigniter/database/drivers/mongodb','mongodb_driver.php',39],['bonfire/codeigniter/database','DB_driver.php',75],['bonfire/modules/settings/libraries','settings_lib.php',54],['tests/simpletest/extensions','my_reporter.php',14],['tests/simpletest/docs/fr','mock_objects_documentation.html',625],['application/core','MY_Security.php',15],['bonfire/modules/settings/controllers','settings.php',35],['tests/simpletest','eclipse.php',25],['tests/simpletest','eclipse.php',276],['tests/simpletest/docs/en','reporter_documentation.html',347],['tests/simpletest/docs/en','reporter_documentation.html',446],['tests/simpletest/docs/en','reporter_documentation.html',558],['tests/simpletest/docs/en','group_test_documentation.html',105],['tests/simpletest/docs/en','group_test_documentation.html',130],['tests/simpletest/docs/en','group_test_documentation.html',184],['tests/simpletest/docs/en','group_test_documentation.html',201],['application/hooks','App_hooks.php',56],['bonfire/libraries','JSMin.php',80],['bonfire/codeigniter/libraries','Xmlrpcs.php',46],['bonfire/codeigniter/libraries','Unit_test.php',38],['tests','run.php',98],['tests','run.php',179],['tests/simpletest','reporter.php',25],['tests/simpletest','reporter.php',196],['tests/simpletest','reporter.php',317],['tests/simpletest','scorer.php',27],['tests/simpletest','scorer.php',246],['tests/simpletest','scorer.php',419],['bonfire/modules/roles/controllers','settings.php',35],['bonfire/codeigniter/libraries','Migration.php',38],['bonfire/codeigniter/libraries','Table.php',40],['bonfire/modules/ui/libraries','contexts.php',144],['bonfire/codeigniter/database/drivers/pdo','pdo_driver.php',51],['bonfire/modules/builder/libraries','modulebuilder.php',77],['tests/simpletest/test','mock_objects_test.php',455],['bonfire/modules/translate/controllers','developer.php',44],['bonfire/libraries','template.php',197],['tests/bonfire/libraries','assets_test.php',5],['bonfire/codeigniter/libraries','Upload.php',57],['tests/simpletest/docs/fr','expectation_documentation.html',295],['tests/bonfire/modules/users','user_model_test.php',7],['tests/simpletest','http.php',26],['tests/simpletest','http.php',121],['tests/simpletest','http.php',203],['tests/simpletest','http.php',306],['tests/simpletest','http.php',489],['bonfire/codeigniter/core','Utf8.php',31],['tests/simpletest','url.php',39],['tests/simpletest','collector.php',104],['bonfire/codeigniter/libraries','Image_lib.php',79],['tests/simpletest','mock_objects.php',33],['tests/simpletest','mock_objects.php',160],['tests/simpletest','mock_objects.php',203],['tests/simpletest','mock_objects.php',246],['tests/simpletest','mock_objects.php',289],['tests/simpletest','mock_objects.php',378],['tests/simpletest','mock_objects.php',499],['tests/simpletest','mock_objects.php',527],['tests/simpletest','mock_objects.php',553],['tests/simpletest','mock_objects.php',582],['tests/simpletest','mock_objects.php',608],['tests/simpletest','mock_objects.php',1194],['tests/simpletest','mock_objects.php',1254],['tests/simpletest/test','collector_test.php',9],['bonfire/codeigniter/core','Input.php',76],['bonfire/codeigniter/core','Lang.php',42],['bonfire/modules/users/controllers','users.php',35],['bonfire/modules/sysinfo/controllers','developer.php',33],['tests/simpletest','cookies.php',31],['tests/simpletest','cookies.php',231],['tests/simpletest','selector.php',25],['tests/simpletest','selector.php',60],['tests/simpletest','selector.php',91],['tests/simpletest','selector.php',118],['tests/bonfire/helpers','MY_array_helper_test.php',5],['bonfire/codeigniter/libraries','Trackback.php',38],['tests/simpletest/test','frames_test.php',245],['bonfire/codeigniter/database/drivers/odbc','odbc_driver.php',51],['tests/simpletest','tag.php',121],['tests/simpletest','tag.php',266],['tests/simpletest','tag.php',292],['tests/simpletest','tag.php',309],['tests/simpletest','tag.php',342],['tests/simpletest','tag.php',449],['tests/simpletest','tag.php',492],['tests/simpletest','tag.php',550],['tests/simpletest','tag.php',625],['tests/simpletest','tag.php',682],['tests/simpletest','tag.php',767],['tests/simpletest','tag.php',810],['tests/simpletest','tag.php',898],['tests/simpletest','tag.php',992],['tests/simpletest','tag.php',1053],['tests/simpletest','tag.php',1110],['tests/simpletest','tag.php',1466],['tests/simpletest','tag.php',1492],['tests/simpletest','tag.php',1509],['bonfire/codeigniter/libraries','User_agent.php',51],['tests/simpletest','web_tester.php',26],['tests/simpletest','web_tester.php',138],['tests/simpletest','web_tester.php',268],['tests/simpletest','web_tester.php',313],['tests/simpletest','web_tester.php',386],['tests/simpletest','web_tester.php',437],['bonfire/codeigniter/libraries','Pagination.php',63],['tests/simpletest','default_reporter.php',36],['tests/simpletest','default_reporter.php',132],['tests/_support','database.php',70],['tests/simpletest','unit_tester.php',25],['bonfire/codeigniter/database','DB_utility.php',30],['tests/simpletest','recorder.php',27],['bonfire/modules/users/controllers','settings.php',35],['bonfire/libraries','CSSMin.php',127],['bonfire/libraries','CSSMin.php',189],['bonfire/libraries','CSSMin.php',243],['bonfire/libraries','CSSMin.php',296],['bonfire/libraries','CSSMin.php',353],['bonfire/libraries','CSSMin.php',1017],['bonfire/libraries','CSSMin.php',1200],['bonfire/libraries','CSSMin.php',1428],['bonfire/libraries','CSSMin.php',1950],['bonfire/libraries','CSSMin.php',2642],['bonfire/libraries','CSSMin.php',2915],['bonfire/libraries','CSSMin.php',3561],['bonfire/libraries','CSSMin.php',3812],['bonfire/libraries','CSSMin.php',3920],['bonfire/libraries','CSSMin.php',4110],['bonfire/libraries','CSSMin.php',4285],['bonfire/libraries','CSSMin.php',4417],['bonfire/libraries','CSSMin.php',4460],['bonfire/libraries','CSSMin.php',4710],['bonfire/libraries','CSSMin.php',4999],['bonfire/modules/permissions/models','permission_model.php',100],['bonfire/codeigniter/core','Output.php',88],['application/core','Base_Controller.php',65],['bonfire/codeigniter/libraries','Session.php',50],['bonfire/codeigniter/libraries','Encrypt.php',38],['bonfire/codeigniter/libraries','Calendar.php',41],['tests/simpletest/test','interfaces_test.php',119],['tests/simpletest','remote.php',27],['tests/simpletest/extensions','pear_test_case.php',27],['bonfire/codeigniter/database','DB_cache.php',30],['tests/simpletest/docs/fr','group_test_documentation.html',111],['tests/simpletest/docs/fr','group_test_documentation.html',137],['tests/simpletest/docs/fr','group_test_documentation.html',195],['tests/simpletest/docs/fr','group_test_documentation.html',212],['bonfire/modules/emailer/controllers','settings.php',34],['application/controllers/admin','content.php',34],['application/controllers','home.php',5],['tests/simpletest','exceptions.php',24],['tests/simpletest','exceptions.php',73],['tests/simpletest','exceptions.php',142],['application/third_party/MX','Base.php',44],['application/libraries','MY_Form_validation.php',46],['bonfire/codeigniter/core','Hooks.php',50],['application/controllers/admin','reports.php',34],['application/third_party/MX','Controller.php',43],['application/controllers/admin','home.php',34],['tests/simpletest','errors.php',24],['tests/simpletest','errors.php',73],['tests/simpletest/docs/en','expectation_documentation.html',333],['bonfire/modules/activities/controllers','activities.php',35],['bonfire/codeigniter/libraries','Form_validation.php',39],['bonfire/codeigniter/libraries/Cache/drivers','Cache_file.php',32],['tests/bonfire/helpers','MY_date_helper_test.php',5],['bonfire/codeigniter/libraries','Ftp.php',38],['application/core','Admin_Controller.php',25],['bonfire/modules/database/controllers','developer.php',44],['bonfire/modules/docs/controllers','docs.php',13],['tests/simpletest/extensions','testdox.php',18],['tests/simpletest','php_parser.php',34],['tests/simpletest','php_parser.php',127],['tests/simpletest','php_parser.php',187],['tests/simpletest','php_parser.php',452],['tests/simpletest','php_parser.php',550],['bonfire/codeigniter/libraries','Cart.php',38],['tests/simpletest','frames.php',30],['bonfire/codeigniter/core','Config.php',50],['bonfire/codeigniter/libraries','Profiler.php',54],['bonfire/docs','tut_blog.md',138],['bonfire/docs','tut_blog.md',217],['bonfire/docs','tut_blog.md',324],['bonfire/docs','tut_blog.md',504],['bonfire/modules/permissions/controllers','settings.php',33],['bonfire/codeigniter/core','Router.php',81],['tests/simpletest','shell_tester.php',23],['tests/simpletest','shell_tester.php',76],['tests/bonfire/core','MY_Model_test.php',14],['bonfire/modules/roles/models','role_model.php',90],['bonfire/codeigniter/libraries','Xmlrpc.php',72],['bonfire/codeigniter/libraries','Xmlrpc.php',363],['bonfire/codeigniter/libraries','Xmlrpc.php',439],['bonfire/codeigniter/libraries','Xmlrpc.php',617],['bonfire/codeigniter/libraries','Xmlrpc.php',1214],['bonfire/libraries','installer_lib.php',69],['tests/simpletest','expectation.php',27],['tests/simpletest','expectation.php',226],['tests/simpletest','expectation.php',281],['tests/simpletest','expectation.php',331],['tests/simpletest','expectation.php',404],['tests/simpletest','expectation.php',451],['tests/simpletest','expectation.php',524],['tests/simpletest','expectation.php',572],['tests/simpletest','expectation.php',619],['tests/simpletest','expectation.php',694],['tests/simpletest','expectation.php',742],['tests/simpletest','expectation.php',819],['tests/simpletest','expectation.php',862],['tests/simpletest','expectation.php',907],['bonfire/codeigniter/libraries/Cache','Cache.php',39],['tests/bonfire/libraries','console_test.php',10],['bonfire/codeigniter/libraries/javascript','Jquery.php',37],['application/core','Front_Controller.php',20],['tests/simpletest','detached.php',26],['tests/simpletest/docs/en','mock_objects_documentation.html',584],['bonfire/modules/logs/controllers','developer.php',35],['application/third_party/MX','Ci.php',43],['tests/simpletest','simpletest.php',320],['tests/bonfire/modules/activities','activity_model_test.php',7],['tests/simpletest/test','expectation_test.php',92],['tests/simpletest/test','expectation_test.php',106],['tests/simpletest/test','expectation_test.php',154],['application/core','MY_Model.php',362],['tests/_support','my_reporter.php',14],['bonfire/modules/emailer/libraries','emailer.php',93],['bonfire/modules/ui/controllers','settings.php',35],['bonfire/libraries','Console.php',61],['application/libraries','MY_Parser.php',24],['tests/bonfire/helpers','address_helper_test.php',7],['tests/simpletest','user_agent.php',42],['tests/simpletest','page.php',41],['bonfire/codeigniter/core','Model.php',29],['bonfire/codeigniter/database','DB_forge.php',32],['bonfire/codeigniter/libraries','Javascript.php',31],['bonfire/modules/builder/views/files','controller.php',37],['tests/simpletest','xml.php',25],['bonfire/modules/migrations/libraries','Migrations.php',138],['application/controllers','install.php',5],['tests/simpletest','reflection_php5.php',17],['tests/simpletest','test_case.php',44],['bonfire/codeigniter/libraries','Sha1.php',47],['application/core','Authenticated_Controller.php',20],['bonfire/libraries','events.php',46],['tests/simpletest','encoding.php',24],['tests/simpletest','encoding.php',94],['tests/simpletest','encoding.php',194],['tests/simpletest','encoding.php',331],['tests/simpletest','encoding.php',386],['tests/simpletest','encoding.php',414],['tests/simpletest','encoding.php',445],['tests/simpletest','encoding.php',504],['tests/simpletest','encoding.php',572],['tests/simpletest','encoding.php',602],['bonfire/codeigniter/core','Loader.php',119],['bonfire/codeigniter/core','Controller.php',34],['tests/simpletest','browser.php',165],['bonfire/modules/migrations/controllers','developer.php',34],['bonfire/codeigniter/core','Security.php',99],['bonfire/modules/builder/controllers','developer.php',37],['bonfire/docs','layouts_and_views.md',190],['tests/simpletest/docs/fr','reporter_documentation.html',356],['tests/simpletest/docs/fr','reporter_documentation.html',456],['tests/simpletest/docs/fr','reporter_documentation.html',568],['bonfire/codeigniter/libraries','Log.php',35],['bonfire/modules/users/models','user_model.php',182],['tests/simpletest','form.php',34],['tests/simpletest','invoker.php',33],['tests/simpletest','invoker.php',92],['bonfire/codeigniter/core','URI.php',61],['bonfire/modules/users/libraries','auth.php',94],['application/core','MY_Lang.php',30],['application/libraries','Profiler.php',57],['bonfire/codeigniter/libraries','Zip.php',42],['tests/simpletest','socket.php',24],['tests/simpletest','socket.php',79],['tests/simpletest','socket.php',176],['tests/simpletest','socket.php',288],['bonfire/codeigniter/core','Exceptions.php',64],['bonfire/libraries','form.php',91]], 179],
'load': ['load', 'Autoloads the Lex classes, if it is not a Lex class it simply returns. ', [['application/libraries/Lex','Autoloader.php',25],['application/third_party/MX','Config.php',38],['bonfire/codeigniter/core','Lang.php',54],['bonfire/codeigniter/core','Config.php',87],['application/third_party/MX','Lang.php',38],['bonfire/codeigniter/libraries','Javascript.php',214],['tests/simpletest','test_case.php',371],['tests/simpletest','browser.php',310],['application/third_party/MX','Modules.php',80],['application/core','MY_Lang.php',37]], 69],
'render': ['render', 'Generates the help text. ', [['tests/simpletest','arguments.php',165],['bonfire/libraries','template.php',243]], 88],
'enable_debug': ['enable_debug', 'Tells the emailer lib whether to generate debugging messages. ', [['bonfire/modules/emailer/libraries','emailer.php',338]], 3],
'do_hash': ['do_hash', 'Hash encode a string ', [['bonfire/codeigniter/helpers','security_helper.php',67]], 7],
'lang': ['lang', 'Lang ', [['bonfire/codeigniter/helpers','language_helper.php',30]], 904],
'set_view': ['set_view', 'Set the current view to render. ', [['bonfire/libraries','template.php',591]], 30],
'save_meta_for': ['save_meta_for', 'Saves one or more key/value pairs of additional meta information for a user. ', [['bonfire/modules/users/models','user_model.php',690]], 3],
'login': ['login', 'Presents the login function and allows the user to actually login. ', [['bonfire/modules/users/controllers','users.php',57],['tests/simpletest/docs/fr','index.html',327],['bonfire/modules/users/libraries','auth.php',122],['tests/simpletest/docs/en','index.html',304]], 7],
'site_url': ['site_url', 'Site URL Returns base_url . index_page [. uri_string] ', [['bonfire/codeigniter/core','Config.php',244],['bonfire/codeigniter/helpers','url_helper.php',30]], 120],
'forgot_password': ['forgot_password', 'Allows a user to start the process of resetting their password. An email is allowed with a special temporary link that is only valid for 24 hours. This link takes them to reset_password(). ', [['bonfire/modules/users/controllers','users.php',152]], 0],
'user_id': ['user_id', 'Retrieves the user_id from the current session. ', [['bonfire/modules/users/libraries','auth.php',409]], 15],
'helpers': ['helpers', '', [['application/third_party/MX','Loader.php',123],['bonfire/codeigniter/core','Loader.php',545]], 5],
'set_message': ['set_message', 'Sets a status message (for displaying small success/error messages). This function is used in place of the session->flashdata function, because you don\'t always want to have to refresh the page to get the message to show up. ', [['bonfire/libraries','template.php',697],['bonfire/codeigniter/libraries','Form_validation.php',154]], 143],
'find': ['find', '', [['bonfire/docs','bonfire_models.md',631],['bonfire/modules/roles/models','role_model.php',109],['application/core','MY_Model.php',409],['bonfire/modules/users/models','user_model.php',430],['application/third_party/MX','Modules.php',168]], 255],
'password_hints': ['password_hints', 'Helper Method for Generating Password Hints based on Settings library. ', [['bonfire/modules/users/models','user_model.php',233]], 2],
'set_current_user': ['set_current_user', 'If the Auth lib is loaded, it will set the current user, since users will never be needed if the Auth library is not loaded. By not requiring this to be executed and loaded for every command, we can speed up calls that don\'t need users at all, or rely on a different type of auth, like an API or cronjob. ', [['application/core','Base_Controller.php',151]], 3],
'set': ['set', 'Sets a config item ', [['bonfire/modules/settings/libraries','settings_lib.php',138],['bonfire/codeigniter/database','DB_active_rec.php',903],['bonfire/libraries','template.php',614],['tests/_support','database.php',36],['application/core','MY_Model.php',1854]], 231],
'update': ['update', 'Update ', [['bonfire/codeigniter/database','DB_active_rec.php',1248],['tests/_support','database.php',37],['bonfire/modules/permissions/models','permission_model.php',158],['bonfire/codeigniter/libraries','Cart.php',252],['bonfire/modules/roles/models','role_model.php',167],['application/core','MY_Model.php',677],['bonfire/codeigniter/libraries','Javascript.php',730],['bonfire/modules/users/models','user_model.php',336]], 62],
'profile': ['profile', 'Allows a user to edit their own profile information. ', [['bonfire/modules/users/controllers','users.php',230]], 0],
'item': ['item', 'Retrieves a setting. ', [['bonfire/modules/settings/libraries','settings_lib.php',105],['bonfire/codeigniter/core','Config.php',179]], 174],
'post': ['post', 'Fetch an item from the POST array ', [['bonfire/codeigniter/core','Input.php',164],['tests/simpletest','web_tester.php',703],['tests/simpletest','browser.php',507]], 196],
'model': ['model', '', [['application/third_party/MX','Loader.php',180],['bonfire/codeigniter/core','Loader.php',221]], 60],
'helper': ['helper', '', [['application/third_party/MX','Loader.php',108],['bonfire/codeigniter/core','Loader.php',485]], 85],
'reset_password': ['reset_password', 'Allows the user to create a new password for their account. At the moment, the only way to get here is to go through the forgot_password() process, which creates a unique code that is only valid for 24 hours. ', [['bonfire/modules/users/controllers','users.php',315]], 0],
'find_user_and_meta': ['find_user_and_meta', 'Locates a single user and joins there meta information based on a the user id match. ', [['bonfire/modules/users/models','user_model.php',803]], 3],
'random_string': ['random_string', 'Create a Random String ', [['bonfire/codeigniter/helpers','string_helper.php',184]], 8],
'set_rules': ['set_rules', 'Set Rules ', [['bonfire/codeigniter/libraries','Form_validation.php',63]], 103],
'find_all': ['find_all', 'Gets all the settings ', [['bonfire/modules/settings/libraries','settings_lib.php',214],['bonfire/docs','bonfire_models.md',201],['application/core','MY_Model.php',444],['bonfire/modules/users/models','user_model.php',454]], 52],
'trigger': ['trigger', 'Triggers a model-specific event and call each of it\'s observers. ', [['application/core','MY_Model.php',1230],['bonfire/libraries','events.php',99]], 204],
'is_logged_in': ['is_logged_in', 'Checks the session for the required info, then verifies against the database. ', [['bonfire/modules/users/libraries','auth.php',336]], 14],
'send': ['send', 'Send Email ', [['bonfire/codeigniter/libraries','Email.php',1352],['bonfire/codeigniter/libraries','Trackback.php',50],['bonfire/codeigniter/libraries','Xmlrpc.php',372],['bonfire/modules/emailer/libraries','emailer.php',105]], 18],
'library': ['library', '', [['application/third_party/MX','Loader.php',137],['bonfire/codeigniter/core','Loader.php',183]], 91],
'deactivate': ['deactivate', 'This function is triggered during account set up to assure user is not active and, if not supressed, generate an activation hash code. This function can be used to deactivate accounts based on public view events. ', [['bonfire/modules/users/models','user_model.php',905]], 4],
'restrict': ['restrict', 'Checks that a user is logged in (and, optionally of the correct role) and, if not, send them to the login screen. ', [['bonfire/modules/users/libraries','auth.php',351]], 48],
'add_module_js': ['add_module_js', 'Adds a module\'s javascript file to be rendered. ', [['bonfire/libraries','assets.php',603]], 24],
'run': ['run', 'Run the tests ', [['bonfire/codeigniter/libraries','Unit_test.php',75],['tests/simpletest','remote.php',48],['application/libraries','MY_Form_validation.php',91],['bonfire/codeigniter/libraries','Form_validation.php',273],['bonfire/codeigniter/libraries','Profiler.php',524],['tests/simpletest','detached.php',47],['tests/simpletest','test_case.php',118],['tests/simpletest','test_case.php',548],['tests/simpletest','test_case.php',636],['application/third_party/MX','Modules.php',52],['application/libraries','Profiler.php',519]], 58],
'validation_errors': ['validation_errors', 'Validation Error String ', [['bonfire/codeigniter/helpers','form_helper.php',885]], 24],
'redirect': ['redirect', 'Like CodeIgniter redirect(), but uses javascript if needed to redirect out of an ajax request. ', [['bonfire/libraries','template.php',788],['bonfire/codeigniter/helpers','url_helper.php',517]], 72],
'ip_address': ['ip_address', 'Fetch the IP Address ', [['bonfire/codeigniter/core','Input.php',306]], 20],
'config_item': ['config_item', 'Returns the specified config item ', [['bonfire/codeigniter/core','Common.php',263]], 56],
'log_activity': ['log_activity', 'Logs a new activity. ', [['bonfire/modules/activities/models','activity_model.php',124],['bonfire/helpers','application_helper.php',683]], 35],
'resend_activation': ['resend_activation', '', [['bonfire/modules/users/controllers','users.php',798]], 0],
'register': ['register', 'Registers the Autoloader ', [['application/libraries/Lex','Autoloader.php',11],['tests/simpletest','mock_objects.php',387],['bonfire/modules/users/controllers','users.php',421]], 12],
'config': ['config', '', [['application/third_party/MX','Loader.php',88],['bonfire/codeigniter/core','Loader.php',585]], 17],
'add_js': ['add_js', 'Adds scripts to the array to be served with the js() method, below. ', [['bonfire/libraries','assets.php',546]], 33],
'time': ['time', '', [], 52],
'is_object': ['is_object', '', [], 58],
'defined': ['defined', '', [], 400],
'unserialize': ['unserialize', '', [], 13],
'str_replace': ['str_replace', '', [], 322],
'strtotime': ['strtotime', '', [], 32]};
CLASS_DATA={
'template': ['template', 'Template ', [['bonfire/libraries','template.php',18]], 539],
'users': ['users', 'Users Controller ', [['bonfire/modules/users/controllers','users.php',18]], 4],
'front_controller': ['front_controller', 'Front Controller ', [['application/core','Front_Controller.php',3]], 8],
'assets': ['assets', 'Assets Class ', [['bonfire/libraries','assets.php',16]], 112],
'events': ['events', 'Events Class ', [['bonfire/libraries','events.php',18]], 19]};
CONST_DATA={
'REGISTER_URL': ['REGISTER_URL', '', [['application/config','constants.php',56],['bonfire/docs','changing_the_admin_URL.md',42]], 9],
'LOGIN_URL': ['LOGIN_URL', '', [['application/config','constants.php',55],['bonfire/docs','changing_the_admin_URL.md',41]], 16],
'BASEPATH': ['BASEPATH', '', [['public','index.php',219]], 399]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Oct 23 19:15:14 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
