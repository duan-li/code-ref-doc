<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /bonfire/docs/template_parser.md source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Oct 23 18:57:41 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='bonfire/docs';
filename='template_parser.md.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/bonfire/docs/</a> -> <a href="template_parser.md.html">template_parser.md</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="template_parser.md.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="template_parser.md.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">## The Template Parser</span>
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  Bonfire ships with a powerful template parser called Lex, which was originally devleoper by Dan Horrigan and then taken over and maintained by the PyroCMS team. 
<a name="l4"><span class="linenum">   4</span></a>  
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">### Enabling the Parser</span>
<a name="l6"><span class="linenum">   6</span></a>  
<a name="l7"><span class="linenum">   7</span></a>  The parser can be enabled by setting the &lt;tt&gt;parse_views&lt;/tt&gt; option of the Template library to TRUE. 
<a name="l8"><span class="linenum">   8</span></a>  
<a name="l9"><span class="linenum">   9</span></a>      Template::<a class="var it896" onMouseOver="hilite(896)" onMouseOut="lolite()" onClick="logVariable('parse_views')" href="../../_variables/parse_views.html">$parse_views</a> = TRUE;
<a name="l10"><span class="linenum">  10</span></a>  
<a name="l11"><span class="linenum">  11</span></a>  Now all views will be rendered using the template parser. Lex does allow for PHP to be parsed within the layouts at the same time as the Lex tags so you can keep the parser turned on at all times without any issues. 
<a name="l12"><span class="linenum">  12</span></a>  
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">## Tag Basics</span>
<a name="l14"><span class="linenum">  14</span></a>  
<a name="l15"><span class="linenum">  15</span></a>  To display data in Lex, you must use a tag. Tags are variables that are wrapped in double curly braces. 
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>      {{ name }}
<a name="l18"><span class="linenum">  18</span></a>  
<a name="l19"><span class="linenum">  19</span></a>  Note that whitespace before or after the braces does not matter, though more advanced uses will require whitespace. 
<a name="l20"><span class="linenum">  20</span></a>  
<a name="l21"><span class="linenum">  21</span></a>  To provide data for your tags, use the &lt;tt&gt;<a class="class" onClick="logClass('Template')" href="../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>();&lt;/tt&gt; method.
<a name="l22"><span class="linenum">  22</span></a>  
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">    // In the controller</span>
<a name="l24"><span class="linenum">  24</span></a>      <a class="class" onClick="logClass('Template')" href="../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('name', 'Bonfire');
<a name="l25"><span class="linenum">  25</span></a>      
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">    // In the View</span>
<a name="l27"><span class="linenum">  27</span></a>      {{ name }}    <span class="comment">// Display: Bonfire</span>
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  You can access elements of an array within a tag by using a period (.) and the array key name. 
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">    // In the controller</span>
<a name="l32"><span class="linenum">  32</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = array(
<a name="l33"><span class="linenum">  33</span></a>          'name' = 'Darth Vader'
<a name="l34"><span class="linenum">  34</span></a>      );
<a name="l35"><span class="linenum">  35</span></a>      <a class="class" onClick="logClass('Template')" href="../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('user', <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>);
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">    // In the View</span>
<a name="l38"><span class="linenum">  38</span></a>      Your name is {{ user.name }}.
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">### Looping Tags</span>
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>  When tags contain an array of data, like blog posts, you can loop through the data by using opening and closing tags. Any array values will then be accessible by their key name.
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">    // In the controller</span>
<a name="l45"><span class="linenum">  45</span></a>      <a class="var it1614" onMouseOver="hilite(1614)" onMouseOut="lolite()" onClick="logVariable('posts')" href="../../_variables/posts.html">$posts</a> = array(
<a name="l46"><span class="linenum">  46</span></a>          array(
<a name="l47"><span class="linenum">  47</span></a>              'title' =&gt; 'Post 1',
<a name="l48"><span class="linenum">  48</span></a>              'url'   =&gt; 'blog/post-1'
<a name="l49"><span class="linenum">  49</span></a>          ),
<a name="l50"><span class="linenum">  50</span></a>          array(
<a name="l51"><span class="linenum">  51</span></a>              'title' =&gt; 'Post 2',
<a name="l52"><span class="linenum">  52</span></a>              'url'   =&gt; 'blog/post-2'
<a name="l53"><span class="linenum">  53</span></a>          )
<a name="l54"><span class="linenum">  54</span></a>      );
<a name="l55"><span class="linenum">  55</span></a>      <a class="class" onClick="logClass('Template')" href="../../_classes/template.html" onMouseOver="classPopup(event,'template')">Template</a>::<a class="function" onClick="logFunction('set')" href="../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('posts', <a class="var it1614" onMouseOver="hilite(1614)" onMouseOut="lolite()" onClick="logVariable('posts')" href="../../_variables/posts.html">$posts</a>);
<a name="l56"><span class="linenum">  56</span></a>      
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">    // In the view</span>
<a name="l58"><span class="linenum">  58</span></a>      {{ posts }}
<a name="l59"><span class="linenum">  59</span></a>          &lt;h1&gt;&lt;a href=&quot;{{ url }}&quot;&gt;{{ title }}&lt;/a&gt;&lt;/h1&gt;
<a name="l60"><span class="linenum">  60</span></a>      {{ /posts }}
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">### Conditional Tags</span>
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>  Conditionals in Lex are simple and easy to use, allowing for the standard &lt;tt&gt;if&lt;/tt&gt;, &lt;tt&gt;elseif&lt;/tt&gt; and &lt;tt&gt;else&lt;/tt&gt;. It also adds &lt;tt&gt;unless&lt;/tt&gt; and &lt;tt&gt;elseunless&lt;/tt&gt;.
<a name="l65"><span class="linenum">  65</span></a>  
<a name="l66"><span class="linenum">  66</span></a>  &lt;tt&gt;unless&lt;/tt&gt; and &lt;tt&gt;elseunless&lt;/tt&gt; are the EXACT same as using &lt;tt&gt;{{ if ! (expression) }}&lt;/tt&gt; and &lt;tt&gt;{{ elseif ! (expression) }} respectively.&lt;/tt&gt;
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>      {{ if show_name }}
<a name="l69"><span class="linenum">  69</span></a>          &lt;p&gt;My name is {{ real_name.first }}  {{ real_name.last }}.&lt;/p&gt;
<a name="l70"><span class="linenum">  70</span></a>      {{ endif}}
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>      {{ if user.group == 'admin' }}
<a name="l73"><span class="linenum">  73</span></a>          &lt;p&gt;You are admin!&lt;/p&gt;
<a name="l74"><span class="linenum">  74</span></a>      {{ elseif user.group == 'user' }}
<a name="l75"><span class="linenum">  75</span></a>          &lt;p&gt;You are a normal user.&lt;/p&gt;
<a name="l76"><span class="linenum">  76</span></a>      {{ else }}
<a name="l77"><span class="linenum">  77</span></a>          &lt;p&gt;I don't know what you are.&lt;/p&gt;
<a name="l78"><span class="linenum">  78</span></a>      {{ endif }}
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>  Undefined variables in conditionals are translated to NULL. This means you can do things like &lt;tt&gt;{{ if foo }}&lt;/tt&gt; and not worry about whether it exists or not.
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">## Modules, Libraries and Templates</span>
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>  The most useful part of using the template library is that we can can module methods and library methods directly from our views. This is done by calling the module name followed by a colon and the name of the method. 
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>      {{ settings_lib:item item=&quot;site.title&quot; }} 
<a name="l87"><span class="linenum">  87</span></a>      {{ Assets:image path='/assets/images/bonfire_logo.png' }}
<a name="l88"><span class="linenum">  88</span></a>      {{ news:latest }}
<a name="l89"><span class="linenum">  89</span></a>          &lt;li&gt; {{ date }} - {{ name }} - {{ id }}&lt;/li&gt;
<a name="l90"><span class="linenum">  90</span></a>      {{ /news:latest }}
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>  Calling modules is still in its infancy and you might run into a few issues, but here are some guidelines to follow: 
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  * Only use a controller that extends from CI_Controller and perform any additional validation and security checks, loading libraries, etc, as normal.
<a name="l95"><span class="linenum">  95</span></a>  * The controller should be of the same name as the module.
<a name="l96"><span class="linenum">  96</span></a>  * The names of the parameters within the tag don't matter. They are mostly useful for you to remember what parameter is what. The values must be passed in the same order that the method requires them. 
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">## Full Docs</span>
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>  These documentations are just to get your feet wet in using the template parser in your projects. For full documentation, see the [Lex GitHub site](https://github.com/pyrocms/lex).
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'set': ['set', 'Sets a config item ', [['bonfire/modules/settings/libraries','settings_lib.php',138],['bonfire/codeigniter/database','DB_active_rec.php',903],['bonfire/libraries','template.php',614],['tests/_support','database.php',36],['application/core','MY_Model.php',1857]], 232]};
CLASS_DATA={
'template': ['template', 'Template ', [['bonfire/libraries','template.php',18]], 533]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Oct 23 18:57:41 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
