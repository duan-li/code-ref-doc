<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /bonfire/docs/bonfire_models.md source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Oct 23 18:57:41 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='bonfire/docs';
filename='bonfire_models.md.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/bonfire/docs/</a> -> <a href="bonfire_models.md.html">bonfire_models.md</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="bonfire_models.md.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="bonfire_models.md.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">## Bonfire Models</span>
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  Keeping with the MVC spirit, Bonfire uses Models to allow you interact with your database in a simple, consistent manner. By using the **BF_Model** as the base class for all of your models, you can very quickly setup a simple model capable of finding records, creating new and editing existing records, deleting records, checking if a key/value is unique in this table, counting the results, and more.
<a name="l4"><span class="linenum">   4</span></a>  
<a name="l5"><span class="linenum">   5</span></a>  BF_Model acts as a middleman layer to between your models and CodeIgniter's standard Model class, working hand-in-hand with ActiveRecord query builder. If you don't need any special queries, your can have a working model in just a handful of lines.
<a name="l6"><span class="linenum">   6</span></a>  
<a name="l7"><span class="linenum">   7</span></a>  **Sections**
<a name="l8"><span class="linenum">   8</span></a>  
<a name="l9"><span class="linenum">   9</span></a>  * [Skeleton File](#skeleton)
<a name="l10"><span class="linenum">  10</span></a>  * [Selecting Data](#selecting)
<a name="l11"><span class="linenum">  11</span></a>  * [Inserting Data](#inserting)
<a name="l12"><span class="linenum">  12</span></a>  * [Updating Data](#updating)
<a name="l13"><span class="linenum">  13</span></a>  * [Deleting Data](#deleting)
<a name="l14"><span class="linenum">  14</span></a>  * [Utility Methods](#utility)
<a name="l15"><span class="linenum">  15</span></a>  * [Return Types](#returns)
<a name="l16"><span class="linenum">  16</span></a>  * [Chainable Methods](#chainable)
<a name="l17"><span class="linenum">  17</span></a>  * [Exending the Model](#extending)
<a name="l18"><span class="linenum">  18</span></a>  * [Observers](#observers)
<a name="l19"><span class="linenum">  19</span></a>  * [Data Validation](#validation)
<a name="l20"><span class="linenum">  20</span></a>  
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment">### Is it an ORM?</span>
<a name="l22"><span class="linenum">  22</span></a>  
<a name="l23"><span class="linenum">  23</span></a>  BF_Model is not an ORM. While ORM's have their place, Bonfire does not ship with one included.
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  &lt;a name=&quot;skeleton&quot;&gt;&lt;/a&gt;
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">## A Skeleton Model</span>
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  To get started with a new model, you can use the following skeleton file:
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  
<a name="l34"><span class="linenum">  34</span></a>      <span class="keyword">class </span><a class="class" onClick="logClass('X_model')" href="../../_classes/x_model.html" onMouseOver="classPopup(event,'x_model')">X_model</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('BF_Model')" href="../../_classes/bf_model.html" onMouseOver="classPopup(event,'bf_model')">BF_Model</a>
<a name="l35"><span class="linenum">  35</span></a>      {
<a name="l36"><span class="linenum">  36</span></a>          protected <a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('table_name')" href="../../_variables/table_name.html">$table_name</a>    = '';
<a name="l37"><span class="linenum">  37</span></a>          protected <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>            = 'id';
<a name="l38"><span class="linenum">  38</span></a>          protected <a class="var it771" onMouseOver="hilite(771)" onMouseOut="lolite()" onClick="logVariable('soft_deletes')" href="../../_variables/soft_deletes.html">$soft_deletes</a>    = FALSE;
<a name="l39"><span class="linenum">  39</span></a>          protected <a class="var it772" onMouseOver="hilite(772)" onMouseOut="lolite()" onClick="logVariable('date_format')" href="../../_variables/date_format.html">$date_format</a>    = 'datetime';
<a name="l40"><span class="linenum">  40</span></a>          protected <a class="var it920" onMouseOver="hilite(920)" onMouseOut="lolite()" onClick="logVariable('log_user')" href="../../_variables/log_user.html">$log_user</a>        = FALSE;
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>          protected <a class="var it773" onMouseOver="hilite(773)" onMouseOut="lolite()" onClick="logVariable('set_created')" href="../../_variables/set_created.html">$set_created</a>    = TRUE;
<a name="l43"><span class="linenum">  43</span></a>          protected <a class="var it921" onMouseOver="hilite(921)" onMouseOut="lolite()" onClick="logVariable('created_field')" href="../../_variables/created_field.html">$created_field</a>    = 'created_on';
<a name="l44"><span class="linenum">  44</span></a>          protected <a class="var it2050" onMouseOver="hilite(2050)" onMouseOut="lolite()" onClick="logVariable('created_by_field')" href="../../_variables/created_by_field.html">$created_by_field</a>    = 'created_by';
<a name="l45"><span class="linenum">  45</span></a>  
<a name="l46"><span class="linenum">  46</span></a>          protected <a class="var it774" onMouseOver="hilite(774)" onMouseOut="lolite()" onClick="logVariable('set_modified')" href="../../_variables/set_modified.html">$set_modified</a>        = FALSE;
<a name="l47"><span class="linenum">  47</span></a>          protected <a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('modified_field')" href="../../_variables/modified_field.html">$modified_field</a>    = 'modified_on';
<a name="l48"><span class="linenum">  48</span></a>          protected <a class="var it2051" onMouseOver="hilite(2051)" onMouseOut="lolite()" onClick="logVariable('modified_by_field')" href="../../_variables/modified_by_field.html">$modified_by_field</a> = 'modified_by';
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>          protected <a class="var it2052" onMouseOver="hilite(2052)" onMouseOut="lolite()" onClick="logVariable('deleted_field')" href="../../_variables/deleted_field.html">$deleted_field</a>    = 'deleted';
<a name="l51"><span class="linenum">  51</span></a>          protected <a class="var it2053" onMouseOver="hilite(2053)" onMouseOut="lolite()" onClick="logVariable('deleted_by_field')" href="../../_variables/deleted_by_field.html">$deleted_by_field</a> = 'deleted_by';
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">        // Observers</span>
<a name="l54"><span class="linenum">  54</span></a>          protected <a class="var it923" onMouseOver="hilite(923)" onMouseOut="lolite()" onClick="logVariable('before_insert')" href="../../_variables/before_insert.html">$before_insert</a>    = array();
<a name="l55"><span class="linenum">  55</span></a>          protected <a class="var it924" onMouseOver="hilite(924)" onMouseOut="lolite()" onClick="logVariable('after_insert')" href="../../_variables/after_insert.html">$after_insert</a>     = array();
<a name="l56"><span class="linenum">  56</span></a>          protected <a class="var it925" onMouseOver="hilite(925)" onMouseOut="lolite()" onClick="logVariable('before_update')" href="../../_variables/before_update.html">$before_update</a>    = array();
<a name="l57"><span class="linenum">  57</span></a>          protected <a class="var it926" onMouseOver="hilite(926)" onMouseOut="lolite()" onClick="logVariable('after_update')" href="../../_variables/after_update.html">$after_update</a>     = array();
<a name="l58"><span class="linenum">  58</span></a>          protected <a class="var it927" onMouseOver="hilite(927)" onMouseOut="lolite()" onClick="logVariable('before_find')" href="../../_variables/before_find.html">$before_find</a>      = array();
<a name="l59"><span class="linenum">  59</span></a>          protected <a class="var it928" onMouseOver="hilite(928)" onMouseOut="lolite()" onClick="logVariable('after_find')" href="../../_variables/after_find.html">$after_find</a>       = array();
<a name="l60"><span class="linenum">  60</span></a>          protected <a class="var it929" onMouseOver="hilite(929)" onMouseOut="lolite()" onClick="logVariable('before_delete')" href="../../_variables/before_delete.html">$before_delete</a>    = array();
<a name="l61"><span class="linenum">  61</span></a>          protected <a class="var it930" onMouseOver="hilite(930)" onMouseOut="lolite()" onClick="logVariable('after_delete')" href="../../_variables/after_delete.html">$after_delete</a>     = array();
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>          protected <a class="var it931" onMouseOver="hilite(931)" onMouseOut="lolite()" onClick="logVariable('return_insert_id')" href="../../_variables/return_insert_id.html">$return_insert_id</a> = true;
<a name="l64"><span class="linenum">  64</span></a>          protected <a class="var it897" onMouseOver="hilite(897)" onMouseOut="lolite()" onClick="logVariable('return_type')" href="../../_variables/return_type.html">$return_type</a>      = 'object';
<a name="l65"><span class="linenum">  65</span></a>          protected <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('protected_attributes')" href="../../_variables/protected_attributes.html">$protected_attributes</a> = array();
<a name="l66"><span class="linenum">  66</span></a>          protected <a class="var it2054" onMouseOver="hilite(2054)" onMouseOut="lolite()" onClick="logVariable('field_info')" href="../../_variables/field_info.html">$field_info</a>           = array();
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>          protected <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('validation_rules')" href="../../_variables/validation_rules.html">$validation_rules</a>         = array();
<a name="l69"><span class="linenum">  69</span></a>          protected <a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('insert_validation_rules')" href="../../_variables/insert_validation_rules.html">$insert_validation_rules</a>  = array();
<a name="l70"><span class="linenum">  70</span></a>          protected <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('skip_validation')" href="../../_variables/skip_validation.html">$skip_validation</a>          = false;
<a name="l71"><span class="linenum">  71</span></a>          protected <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('empty_validation_rules')" href="../../_variables/empty_validation_rules.html">$empty_validation_rules</a>   = array();
<a name="l72"><span class="linenum">  72</span></a>      }
<a name="l73"><span class="linenum">  73</span></a>  
<a name="l74"><span class="linenum">  74</span></a>  
<a name="l75"><span class="linenum">  75</span></a>  This is the bare minimum needed to take advantage of BF_Model's built-in functions. All variables shown here are set to their default, so you don't need to show them if you are using the default values.  Model_name is the name of your class and follows the same rules as [CodeIgniter models](http://codeigniter.com/user_guide/general/models.html).
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>  BF_Model supports quite a few ways to customize how your class works with the database.
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">### &lt;tt&gt;$table_name&lt;/tt&gt;</span>
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>  The var &lt;tt&gt;<a class="var it138" onMouseOver="hilite(138)" onMouseOut="lolite()" onClick="logVariable('table_name')" href="../../_variables/table_name.html">$table_name</a>&lt;/tt&gt; should be set to the name of the table in your database. If you database is set to use a prefix (Bonfire defaults to a &lt;tt&gt;bf_&lt;/tt&gt; prefix), you should leave the prefix off. So a table named &lt;tt&gt;bf_users&lt;/tt&gt; should be entered as &lt;tt&gt;users&lt;/tt&gt;.
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>  
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">### &lt;tt&gt;$key&lt;/tt&gt;</span>
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>  The var &lt;tt&gt;<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>&lt;/tt&gt; should be the name of the primary key for your table. BF_Model requires that your table has primary key. If it doesn't you should extend Model and will need to write your own methods to interface with the database. The &lt;tt&gt;<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>&lt;/tt&gt; is expected to be linked to an INT field.
<a name="l88"><span class="linenum">  88</span></a>  
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">### &lt;tt&gt;$soft_deletes&lt;/tt&gt;</span>
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>  Bonfire uses the concept of *soft deletes* that will set a flag that an item has been deleted instead of actually deleting the item. This allows you to later restore the user in case the deletion was accidental, or to keep a permanent record of any sensitive information, like transaction records.
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  To use soft_deletes, your table must have a &lt;tt&gt;deleted&lt;/tt&gt; field that is a **TINYINT (1)**. A value of &lt;tt&gt;0&lt;/tt&gt; means the record has not been deleted, while a value of &lt;tt&gt;1&lt;/tt&gt; shows that the item has been deleted.
<a name="l95"><span class="linenum">  95</span></a>  The name of the &lt;tt&gt;deleted&lt;/tt&gt; field may be modified by setting &lt;tt&gt;<a class="var it2052" onMouseOver="hilite(2052)" onMouseOut="lolite()" onClick="logVariable('deleted_field')" href="../../_variables/deleted_field.html">$deleted_field</a>&lt;/tt&gt;.
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>  If &lt;tt&gt;<a class="var it771" onMouseOver="hilite(771)" onMouseOut="lolite()" onClick="logVariable('soft_deletes')" href="../../_variables/soft_deletes.html">$soft_deletes</a> == TRUE&lt;/tt&gt;, Bonfire will automatically update the record to set &lt;tt&gt;deleted&lt;/tt&gt; to a value of &lt;tt&gt;1&lt;/tt&gt;.
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>  If &lt;tt&gt;<a class="var it771" onMouseOver="hilite(771)" onMouseOut="lolite()" onClick="logVariable('soft_deletes')" href="../../_variables/soft_deletes.html">$soft_deletes</a> == FALSE&lt;/tt&gt;, the record will be permanently deleted from the database.
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">### &lt;tt&gt;$date_format&lt;/tt&gt;</span>
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>  Determines the type of field that is used to store created and modified dates. The possible values are:
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>  - ‘int’ - A Unix integer timestamp.
<a name="l107"><span class="linenum"> 107</span></a>  - ‘datetime’ Is a MySQL Datetime field. ( YYYY-MM-DD HH:MM:SS )
<a name="l108"><span class="linenum"> 108</span></a>  - ‘date’ is a MySQL Date field. ( YYYY-MM-DD )
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>  While ‘int’ seems to be one of the most common amongst PHP developers, datetime should be at least considered since it makes inspecting your data within the database much easier to interpret, though it does take a little bit more work during the script execution.
<a name="l111"><span class="linenum"> 111</span></a>  
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">### &lt;tt&gt;$set_created&lt;/tt&gt;</span>
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>  Bonfire can automatically set your created on dates and times for you, in the format specified through &lt;tt&gt;<a class="var it772" onMouseOver="hilite(772)" onMouseOut="lolite()" onClick="logVariable('date_format')" href="../../_variables/date_format.html">$date_format</a>&lt;/tt&gt;. To use this, your table must have a &lt;tt&gt;created_on&lt;/tt&gt; field of the proper type.
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>  If &lt;tt&gt;<a class="var it773" onMouseOver="hilite(773)" onMouseOut="lolite()" onClick="logVariable('set_created')" href="../../_variables/set_created.html">$set_created</a> == TRUE&lt;/tt&gt;, Bonfire will set the &lt;tt&gt;created_on&lt;/tt&gt; field value for you at the time of an &lt;tt&gt;<a class="function" onClick="logFunction('insert')" href="../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>()&lt;/tt&gt; call.
<a name="l118"><span class="linenum"> 118</span></a>  The name of the &lt;tt&gt;created_on&lt;/tt&gt; field may be modified by setting &lt;tt&gt;<a class="var it921" onMouseOver="hilite(921)" onMouseOut="lolite()" onClick="logVariable('created_field')" href="../../_variables/created_field.html">$created_field</a>&lt;/tt&gt;.
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">### &lt;tt&gt;$set_modified&lt;/tt&gt;</span>
<a name="l122"><span class="linenum"> 122</span></a>  
<a name="l123"><span class="linenum"> 123</span></a>  Bonfire can automatically set your modified on dates and times for you, in the format specified through &lt;tt&gt;<a class="var it772" onMouseOver="hilite(772)" onMouseOut="lolite()" onClick="logVariable('date_format')" href="../../_variables/date_format.html">$date_format</a>&lt;/tt&gt;. To use this, your table must have a &lt;tt&gt;modified_on&lt;/tt&gt; field of the proper type.
<a name="l124"><span class="linenum"> 124</span></a>  The name of the &lt;tt&gt;modified_on&lt;/tt&gt; field may be modified by setting &lt;tt&gt;<a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('modified_field')" href="../../_variables/modified_field.html">$modified_field</a>&lt;/tt&gt;.
<a name="l125"><span class="linenum"> 125</span></a>  
<a name="l126"><span class="linenum"> 126</span></a>  If &lt;tt&gt;<a class="var it773" onMouseOver="hilite(773)" onMouseOut="lolite()" onClick="logVariable('set_created')" href="../../_variables/set_created.html">$set_created</a> == TRUE&lt;/tt&gt;, Bonfire will set the &lt;tt&gt;created_on&lt;/tt&gt; field value for you at the time of an &lt;tt&gt;<a class="function" onClick="logFunction('insert')" href="../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>()&lt;/tt&gt; call.
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">### &lt;tt&gt;$created_field&lt;/tt&gt; &amp; &lt;tt&gt;$modified_field&lt;/tt&gt;</span>
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>  &lt;tt&gt;created_field&lt;/tt&gt; and &lt;tt&gt;modified_field&lt;/tt&gt; specify the name of the field that the time is inserted into. Defaults to *created_on* and *modified_on*.
<a name="l131"><span class="linenum"> 131</span></a>  
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">### &lt;tt&gt;$log_user&lt;/tt&gt;</span>
<a name="l134"><span class="linenum"> 134</span></a>  
<a name="l135"><span class="linenum"> 135</span></a>  &lt;tt&gt;log_user&lt;/tt&gt; provides a way to keep a small activity trail of actions related to each record.  When TRUE, it will populate a field in the record with the user id. This applies to the &lt;tt&gt;insert&lt;/tt&gt;, &lt;tt&gt;update&lt;/tt&gt; and &lt;tt&gt;deleted&lt;/tt&gt; commands, and their related methods, like &lt;tt&gt;update_by&lt;/tt&gt;.
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>  The name of the fields to store the user id in can be set by changing the &lt;tt&gt;created_by_field&lt;/tt&gt;, &lt;tt&gt;modified_by_field&lt;/tt&gt; and &lt;tt&gt;deleted_by_field&lt;/tt&gt; values. They default to &lt;tt&gt;created_by&lt;/tt&gt;, &lt;tt&gt;modified_by&lt;/tt&gt; and &lt;tt&gt;deleted_by&lt;/tt&gt;, respectively.
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">### &lt;tt&gt;$deleted_field&lt;/tt&gt; &amp; &lt;tt&gt;$deleted_by_field&lt;/tt&gt;</span>
<a name="l140"><span class="linenum"> 140</span></a>  
<a name="l141"><span class="linenum"> 141</span></a>  &lt;tt&gt;deleted_field&lt;/tt&gt; and &lt;tt&gt;deleted_by_field&lt;/tt&gt; specify the name of the fields used to determine whether a row has been deleted (when &lt;tt&gt;<a class="var it771" onMouseOver="hilite(771)" onMouseOut="lolite()" onClick="logVariable('soft_deletes')" href="../../_variables/soft_deletes.html">$soft_deletes</a>&lt;/tt&gt; == true) and the user which deleted the <a class="function" onClick="logFunction('row')" href="../../_functions/row.html" onMouseOver="funcPopup(event,'row')">row</a> (when &lt;tt&gt;<a class="var it920" onMouseOver="hilite(920)" onMouseOut="lolite()" onClick="logVariable('log_user')" href="../../_variables/log_user.html">$log_user</a>&lt;/tt&gt; == true).
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">### &lt;tt&gt;$escape&lt;/tt&gt;</span>
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>  When FALSE, the &lt;tt&gt;<a class="function" onClick="logFunction('select')" href="../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>()&lt;/tt&gt; method will not try to protect your field names with backticks. This is useful if you need a compound statement.
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">### &lt;tt&gt;$db_con&lt;/tt&gt;</span>
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>  Holds the database connection details for this model only. Can be either a string or an array as per the [CodeIgniter manual](http://codeigniter.com/user_guide/database/connecting.html). This is useful if you have a single model that needs to use a database connection different than the rest, like a logging class.
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">### &lt;tt&gt;$return_type&lt;/tt&gt;</span>
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>  Specifies whether the model returns records as an object or an array. The only valid values here are &lt;tt&gt;object&lt;/tt&gt; or &lt;tt&gt;array&lt;/tt&gt;.
<a name="l155"><span class="linenum"> 155</span></a>  
<a name="l156"><span class="linenum"> 156</span></a>  The format can be overridden on a per-call basis using the &lt;tt&gt;as_array&lt;/tt&gt; and &lt;tt&gt;as_object&lt;/tt&gt; methods.
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('as_array')" href="../../_functions/as_array.html" onMouseOver="funcPopup(event,'as_array')">as_array</a>()-&gt;<a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>);
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">### &lt;tt&gt;$protected_attributes&lt;/tt&gt;</span>
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>  This is simply a list of keys that will always be removed from the data arrays passed to the insert, update, and similar methods. This is convenient if you like to throw your <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a> arrays directly at the model, but don't want the 'submit' inputs being saved, or for always removing the 'id' if it's passed in.
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>      protected <a class="var it932" onMouseOver="hilite(932)" onMouseOut="lolite()" onClick="logVariable('protected_attributes')" href="../../_variables/protected_attributes.html">$protected_attributes</a> = array( 'submit', 'id' );
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">### &lt;tt&gt;$field_info&lt;/tt&gt;</span>
<a name="l167"><span class="linenum"> 167</span></a>  
<a name="l168"><span class="linenum"> 168</span></a>  This is an array of field definitions which may be used (in combination with &lt;tt&gt;<a class="function" onClick="logFunction('prep_data')" href="../../_functions/prep_data.html" onMouseOver="funcPopup(event,'prep_data')">prep_data</a>()&lt;/tt&gt;) to define the model's interaction with the database. If &lt;tt&gt;field_info&lt;/tt&gt; is empty, the model will query the database to fill this array when using &lt;tt&gt;<a class="function" onClick="logFunction('get_field_info')" href="../../_functions/get_field_info.html" onMouseOver="funcPopup(event,'get_field_info')">get_field_info</a>()&lt;/tt&gt;. The &lt;tt&gt;field_info&lt;/tt&gt; array could also be used by a controller to help map post data to the fields in the model. See CodeIgniter's &lt;tt&gt;<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('db')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/db.html">db</a>-&gt;<a class="function" onClick="logFunction('field_data')" href="../../_functions/field_data.html" onMouseOver="funcPopup(event,'field_data')">field_data</a>()&lt;/tt&gt; [http://ellislab.com/codeigniter/user-guide/database/fields.html](http://ellislab.com/codeigniter/user-guide/database/fields.html)
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>  The field definition should be as follows:
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>      <a class="var it2054" onMouseOver="hilite(2054)" onMouseOut="lolite()" onClick="logVariable('field_info')" href="../../_variables/field_info.html">$field_info</a> = array(
<a name="l173"><span class="linenum"> 173</span></a>          array(
<a name="l174"><span class="linenum"> 174</span></a>              'name'          =&gt; 'id',
<a name="l175"><span class="linenum"> 175</span></a>              'type'          =&gt; 'int',
<a name="l176"><span class="linenum"> 176</span></a>              'primary_key'   =&gt; 1,
<a name="l177"><span class="linenum"> 177</span></a>          ),
<a name="l178"><span class="linenum"> 178</span></a>          array(
<a name="l179"><span class="linenum"> 179</span></a>              'name'          =&gt; 'field_1_name',
<a name="l180"><span class="linenum"> 180</span></a>              'type'          =&gt; 'varchar',
<a name="l181"><span class="linenum"> 181</span></a>              'default'       =&gt; '',
<a name="l182"><span class="linenum"> 182</span></a>              'max_length'    =&gt; 255,
<a name="l183"><span class="linenum"> 183</span></a>          ),
<a name="l184"><span class="linenum"> 184</span></a>      );
<a name="l185"><span class="linenum"> 185</span></a>  
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">## Provided Methods</span>
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>  By using the skeleton file, you get a number of methods ready to use on your model. All of these methods can be overriden in your own model if you need to customize them by joining other tables, processing the results before handing off to the controller, etc.
<a name="l189"><span class="linenum"> 189</span></a>  
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('select')" href="../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>(‘id, username, email’)
<a name="l192"><span class="linenum"> 192</span></a>                               -&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>(‘deleted’, 1)
<a name="l193"><span class="linenum"> 193</span></a>                               -&gt;<a class="function" onClick="logFunction('limit')" href="../../_functions/limit.html" onMouseOver="funcPopup(event,'limit')">limit</a>(10,0)
<a name="l194"><span class="linenum"> 194</span></a>                               -&gt;<a class="function" onClick="logFunction('find_all')" href="../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l195"><span class="linenum"> 195</span></a>  
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>  If you need to do additional processing, join tables, etc than you can do that in your model using CodeIgniter’s built-in ActiveRecord commands.
<a name="l198"><span class="linenum"> 198</span></a>  
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>      <span class="keyword">class </span><a class="class" onClick="logClass('User_model')" href="../../_classes/user_model.html" onMouseOver="classPopup(event,'user_model')">User_model</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('BF_Model')" href="../../_classes/bf_model.html" onMouseOver="classPopup(event,'bf_model')">BF_Model</a> {
<a name="l201"><span class="linenum"> 201</span></a>          public function <a class="function" onClick="logFunction('find_all')" href="../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>()
<a name="l202"><span class="linenum"> 202</span></a>          {
<a name="l203"><span class="linenum"> 203</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('db')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/db.html">db</a>-&gt;<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(...);
<a name="l204"><span class="linenum"> 204</span></a>              return parent::<a class="function" onClick="logFunction('find_all')" href="../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l205"><span class="linenum"> 205</span></a>          }
<a name="l206"><span class="linenum"> 206</span></a>      }
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>  &lt;a name=&quot;selecting&quot;&gt;&lt;/a&gt;
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment">## Selecting Data</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">### &lt;tt&gt;find()&lt;/tt&gt;</span>
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>  The &lt;tt&gt;<a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>()&lt;/tt&gt; method is used to locate a single record based on it's &lt;tt&gt;id&lt;/tt&gt;.
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>);
<a name="l216"><span class="linenum"> 216</span></a>  
<a name="l217"><span class="linenum"> 217</span></a>      echo <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('username')" class="var it2876" onMouseOver="hilite(2876)" onMouseOut="lolite()" href="../../_variables/username.html">username</a>;
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>  
<a name="l220"><span class="linenum"> 220</span></a>  Returns an object with the results if found, or &lt;tt&gt;FALSE&lt;/tt&gt; if not found.
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">### &lt;tt&gt;find_by()&lt;/tt&gt;</span>
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>  A convenience method that combines the &lt;tt&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>()&lt;/tt&gt; and &lt;tt&gt;<a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>()&lt;/tt&gt; methods. Expects to return a single result, so you should search on a field that will have unique values.
<a name="l226"><span class="linenum"> 226</span></a>  
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_by')" href="../../_functions/find_by.html" onMouseOver="funcPopup(event,'find_by')">find_by</a>('email', 'darth@theempire.com');
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>  
<a name="l231"><span class="linenum"> 231</span></a>  This method can also be called with only a single associative array as the first parameter. This allows you set multiple criteria to search by.
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>  
<a name="l234"><span class="linenum"> 234</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( array('email'=&gt;'darth@theempire.com', 'deleted'=&gt;0) );
<a name="l235"><span class="linenum"> 235</span></a>  
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">    # SQL: SELECT * FROM `bf_users` WHERE email='darth@theempire.com' AND deleted='0'</span>
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>  
<a name="l239"><span class="linenum"> 239</span></a>  This defaults to combining all criteria as &quot;AND&quot; but can be modified by passing the the type into the third parameter:
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( array('email'=&gt;'darth@theempire.com', 'deleted'=&gt;0), null, 'OR' );
<a name="l243"><span class="linenum"> 243</span></a>  
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">    # SQL: SELECT * FROM `bf_users` WHERE email='darth@theempire.com' OR deleted='0'</span>
<a name="l245"><span class="linenum"> 245</span></a>  
<a name="l246"><span class="linenum"> 246</span></a>  
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">### &lt;tt&gt;find_all()&lt;/tt&gt;</span>
<a name="l249"><span class="linenum"> 249</span></a>  
<a name="l250"><span class="linenum"> 250</span></a>  Locates all records in the table.
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_all')" href="../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l253"><span class="linenum"> 253</span></a>  
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>  If you need to modify the search criteria you can use any of the chainable methods.
<a name="l256"><span class="linenum"> 256</span></a>  
<a name="l257"><span class="linenum"> 257</span></a>  
<a name="l258"><span class="linenum"> 258</span></a>      <a class="var it1482" onMouseOver="hilite(1482)" onMouseOut="lolite()" onClick="logVariable('users')" href="../../_variables/users.html">$users</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>('deleted', 1)
<a name="l259"><span class="linenum"> 259</span></a>                                -&gt;<a class="function" onClick="logFunction('limit')" href="../../_functions/limit.html" onMouseOver="funcPopup(event,'limit')">limit</a>(25)
<a name="l260"><span class="linenum"> 260</span></a>                                -&gt;<a class="function" onClick="logFunction('find_all')" href="../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l261"><span class="linenum"> 261</span></a>  
<a name="l262"><span class="linenum"> 262</span></a>      foreach (<a class="var it1482" onMouseOver="hilite(1482)" onMouseOut="lolite()" onClick="logVariable('users')" href="../../_variables/users.html">$users</a> as <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>)
<a name="l263"><span class="linenum"> 263</span></a>      {
<a name="l264"><span class="linenum"> 264</span></a>          echo <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('username')" class="var it2876" onMouseOver="hilite(2876)" onMouseOut="lolite()" href="../../_variables/username.html">username</a>;
<a name="l265"><span class="linenum"> 265</span></a>      }
<a name="l266"><span class="linenum"> 266</span></a>  
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>  Returns an array of objects where each object holds the results of a single record.
<a name="l269"><span class="linenum"> 269</span></a>  
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">### &lt;tt&gt;find_all_by()&lt;/tt&gt;</span>
<a name="l272"><span class="linenum"> 272</span></a>  
<a name="l273"><span class="linenum"> 273</span></a>  Locates all records matching certain criteria. This is a convenience method for using a &lt;tt&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>()&lt;/tt&gt; and a &lt;tt&gt;<a class="function" onClick="logFunction('find_all')" href="../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>()&lt;/tt&gt; in one command.
<a name="l274"><span class="linenum"> 274</span></a>  
<a name="l275"><span class="linenum"> 275</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_all_by')" href="../../_functions/find_all_by.html" onMouseOver="funcPopup(event,'find_all_by')">find_all_by</a>('deleted', 1);
<a name="l276"><span class="linenum"> 276</span></a>  
<a name="l277"><span class="linenum"> 277</span></a>  
<a name="l278"><span class="linenum"> 278</span></a>  Any of the standard options available to a CodeIgniter &lt;tt&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>()&lt;/tt&gt; method may be used here.
<a name="l279"><span class="linenum"> 279</span></a>  
<a name="l280"><span class="linenum"> 280</span></a>  
<a name="l281"><span class="linenum"> 281</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_all_by')" href="../../_functions/find_all_by.html" onMouseOver="funcPopup(event,'find_all_by')">find_all_by</a>('deleted', 1);
<a name="l282"><span class="linenum"> 282</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_all_by')" href="../../_functions/find_all_by.html" onMouseOver="funcPopup(event,'find_all_by')">find_all_by</a>('deleted !=', 0);
<a name="l283"><span class="linenum"> 283</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find_all_by')" href="../../_functions/find_all_by.html" onMouseOver="funcPopup(event,'find_all_by')">find_all_by</a>( array('email'=&gt;'darth@theempire.com', 'deleted'=&gt;0) );
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>  
<a name="l286"><span class="linenum"> 286</span></a>  Returns an array of objects where each object holds the results of a single record.
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>  &lt;a name=&quot;inserting&quot;&gt;&lt;/a&gt;
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">## Inserting Data</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">### &lt;tt&gt;insert()&lt;/tt&gt;</span>
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>  Creates a new record. Will set the &lt;tt&gt;created_on&lt;/tt&gt; field if the model is setup to allow that. The first parameter should be an associative array of field/values to insert.
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>  
<a name="l295"><span class="linenum"> 295</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = array(
<a name="l296"><span class="linenum"> 296</span></a>          'email'     =&gt; 'dart@theempire.com',
<a name="l297"><span class="linenum"> 297</span></a>          'username'  =&gt; 'darth.vader'
<a name="l298"><span class="linenum"> 298</span></a>      );
<a name="l299"><span class="linenum"> 299</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('insert')" href="../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>);
<a name="l300"><span class="linenum"> 300</span></a>  
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">    # SQL: INSERT INTO `bf_users` (email, username, created_on) VALUES ('darth@theempire.com', 'darth.vader', 1321645674);</span>
<a name="l302"><span class="linenum"> 302</span></a>  
<a name="l303"><span class="linenum"> 303</span></a>  
<a name="l304"><span class="linenum"> 304</span></a>  Returns an INT ID of the new record on success, or &lt;tt&gt;FALSE&lt;/tt&gt; on failure.
<a name="l305"><span class="linenum"> 305</span></a>  
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">### &lt;tt&gt;insert_batch()&lt;/tt&gt;</span>
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>  Allows for inserting more than one record at a time. Works just like CodeIgniter’s stock method, but handles setting the table name for you.
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>  
<a name="l313"><span class="linenum"> 313</span></a>      <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = array(
<a name="l314"><span class="linenum"> 314</span></a>         array(
<a name="l315"><span class="linenum"> 315</span></a>            'title' =&gt; 'My title' ,
<a name="l316"><span class="linenum"> 316</span></a>            'name' =&gt; 'My Name' ,
<a name="l317"><span class="linenum"> 317</span></a>            'date' =&gt; 'My date'
<a name="l318"><span class="linenum"> 318</span></a>         ),
<a name="l319"><span class="linenum"> 319</span></a>         array(
<a name="l320"><span class="linenum"> 320</span></a>            'title' =&gt; 'Another title' ,
<a name="l321"><span class="linenum"> 321</span></a>            'name' =&gt; 'Another Name' ,
<a name="l322"><span class="linenum"> 322</span></a>            'date' =&gt; 'Another date'
<a name="l323"><span class="linenum"> 323</span></a>         )
<a name="l324"><span class="linenum"> 324</span></a>      );
<a name="l325"><span class="linenum"> 325</span></a>  
<a name="l326"><span class="linenum"> 326</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('db')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/db.html">db</a>-&gt;<a class="function" onClick="logFunction('insert_batch')" href="../../_functions/insert_batch.html" onMouseOver="funcPopup(event,'insert_batch')">insert_batch</a>('mytable', <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l327"><span class="linenum"> 327</span></a>  
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>  &lt;a name=&quot;updating&quot;&gt;&lt;/a&gt;
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">## Updating Data</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">### &lt;tt&gt;update()&lt;/tt&gt;</span>
<a name="l332"><span class="linenum"> 332</span></a>  
<a name="l333"><span class="linenum"> 333</span></a>  Updates an existing record in the database by ID. Will set the correct time for the &lt;tt&gt;modified_on&lt;/tt&gt; field, if the model requires it.
<a name="l334"><span class="linenum"> 334</span></a>  
<a name="l335"><span class="linenum"> 335</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = array(
<a name="l336"><span class="linenum"> 336</span></a>          'email'     =&gt; 'dart@theempire.com',
<a name="l337"><span class="linenum"> 337</span></a>          'username'  =&gt; 'darth.vader'
<a name="l338"><span class="linenum"> 338</span></a>      );
<a name="l339"><span class="linenum"> 339</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../_variables/user_id.html">$user_id</a>, <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>);
<a name="l340"><span class="linenum"> 340</span></a>  
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">    # SQL: UPDATE `bf_users` SET email='darth@theempire.com', username='darth.vader', modified_on=1321645674 WHERE id=1;</span>
<a name="l342"><span class="linenum"> 342</span></a>  
<a name="l343"><span class="linenum"> 343</span></a>  
<a name="l344"><span class="linenum"> 344</span></a>  Returns a boolean &lt;tt&gt;TRUE/FALSE&lt;/tt&gt; on success/failure.
<a name="l345"><span class="linenum"> 345</span></a>  
<a name="l346"><span class="linenum"> 346</span></a>  
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment">### &lt;tt&gt;update_where()&lt;/tt&gt;</span>
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>  Updates a single record in the database by a key/value pair. Will set the correct time for the &lt;tt&gt;modified_on&lt;/tt&gt; field, if the model requires it.
<a name="l350"><span class="linenum"> 350</span></a>  
<a name="l351"><span class="linenum"> 351</span></a>  
<a name="l352"><span class="linenum"> 352</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = array(
<a name="l353"><span class="linenum"> 353</span></a>          'email'     =&gt; 'dart@theempire.com',
<a name="l354"><span class="linenum"> 354</span></a>          'username'  =&gt; 'darth.vader'
<a name="l355"><span class="linenum"> 355</span></a>      );
<a name="l356"><span class="linenum"> 356</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>('is_father', 1, <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>);
<a name="l357"><span class="linenum"> 357</span></a>  
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">    # SQL: UPDATE `bf_users` SET email='darth@theempire.com', username='darth.vader', modified_on=1321645674 WHERE is_father=1;</span>
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>  
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment">### &lt;tt&gt;update_batch()&lt;/tt&gt;</span>
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>  Updates multiple records with a single method call.
<a name="l365"><span class="linenum"> 365</span></a>  
<a name="l366"><span class="linenum"> 366</span></a>  ```php
<a name="l367"><span class="linenum"> 367</span></a>    <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = array(
<a name="l368"><span class="linenum"> 368</span></a>       array(
<a name="l369"><span class="linenum"> 369</span></a>          'title' =&gt; 'My title' ,
<a name="l370"><span class="linenum"> 370</span></a>          'name' =&gt; 'My Name 2' ,
<a name="l371"><span class="linenum"> 371</span></a>          'date' =&gt; 'My date 2'
<a name="l372"><span class="linenum"> 372</span></a>       ),
<a name="l373"><span class="linenum"> 373</span></a>       array(
<a name="l374"><span class="linenum"> 374</span></a>          'title' =&gt; 'Another title' ,
<a name="l375"><span class="linenum"> 375</span></a>          'name' =&gt; 'Another Name 2' ,
<a name="l376"><span class="linenum"> 376</span></a>          'date' =&gt; 'Another date 2'
<a name="l377"><span class="linenum"> 377</span></a>       )
<a name="l378"><span class="linenum"> 378</span></a>    );
<a name="l379"><span class="linenum"> 379</span></a>  
<a name="l380"><span class="linenum"> 380</span></a>    <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/model.html">model</a>-&gt;<a class="function" onClick="logFunction('update_batch')" href="../../_functions/update_batch.html" onMouseOver="funcPopup(event,'update_batch')">update_batch</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, 'title');
<a name="l381"><span class="linenum"> 381</span></a>  ```
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>  The first parameter is an array of values. The second parameter is the where key.
<a name="l384"><span class="linenum"> 384</span></a>  
<a name="l385"><span class="linenum"> 385</span></a>  
<a name="l386"><span class="linenum"> 386</span></a>  &lt;a name=&quot;deleting&quot;&gt;&lt;/a&gt;
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">## Deleting Data</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">### &lt;tt&gt;delete()&lt;/tt&gt;</span>
<a name="l389"><span class="linenum"> 389</span></a>  
<a name="l390"><span class="linenum"> 390</span></a>  Deletes a single record from the database. If &lt;tt&gt;<a class="var it771" onMouseOver="hilite(771)" onMouseOut="lolite()" onClick="logVariable('soft_deletes')" href="../../_variables/soft_deletes.html">$soft_deletes</a>&lt;/tt&gt; are on, then will just set the &lt;tt&gt;deleted&lt;/tt&gt; field to &lt;tt&gt;1&lt;/tt&gt;. Otherwise, will permanently delete the record from the database.
<a name="l391"><span class="linenum"> 391</span></a>  
<a name="l392"><span class="linenum"> 392</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('delete')" href="../../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../_variables/user_id.html">$user_id</a>);
<a name="l393"><span class="linenum"> 393</span></a>  
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">    # SQL w/ soft deletes: UPDATE bf_users SET deleted=1 WHERE id=$user_id;</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">    # SQL w/out soft deletes: DELETE FROM bf_users WHERE id=$user_id;</span>
<a name="l396"><span class="linenum"> 396</span></a>  
<a name="l397"><span class="linenum"> 397</span></a>  
<a name="l398"><span class="linenum"> 398</span></a>  Returns a boolean &lt;tt&gt;TRUE/FALSE&lt;/tt&gt; on success/failure.
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>  
<a name="l401"><span class="linenum"> 401</span></a>  
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">###  &lt;tt&gt;delete_where()&lt;/tt&gt;</span>
<a name="l403"><span class="linenum"> 403</span></a>  
<a name="l404"><span class="linenum"> 404</span></a>  Deletes one or more records that match certain requirements. If &lt;code&gt;<a class="var it771" onMouseOver="hilite(771)" onMouseOut="lolite()" onClick="logVariable('soft_deletes')" href="../../_variables/soft_deletes.html">$soft_deletes</a> == true&lt;/code&gt;, will set the &lt;tt&gt;deleted&lt;/tt&gt; field to 1, otherwise will delete the record permenantly.
<a name="l405"><span class="linenum"> 405</span></a>  
<a name="l406"><span class="linenum"> 406</span></a>  The first parameter accepts an array of key/value pairs to form the ‘where’ portion of the query.
<a name="l407"><span class="linenum"> 407</span></a>  
<a name="l408"><span class="linenum"> 408</span></a>  
<a name="l409"><span class="linenum"> 409</span></a>      <a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('wheres')" href="../../_variables/wheres.html">$wheres</a> = array(
<a name="l410"><span class="linenum"> 410</span></a>          ‘active’    =&gt; 0,
<a name="l411"><span class="linenum"> 411</span></a>          ‘last_login’ =&gt; ‘&lt; ‘. <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()
<a name="l412"><span class="linenum"> 412</span></a>      );
<a name="l413"><span class="linenum"> 413</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/model.html">model</a>-&gt;<a class="function" onClick="logFunction('delete')" href="../../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>(<a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('wheres')" href="../../_variables/wheres.html">$wheres</a>);
<a name="l414"><span class="linenum"> 414</span></a>  
<a name="l415"><span class="linenum"> 415</span></a>  
<a name="l416"><span class="linenum"> 416</span></a>  &lt;a name=&quot;utility&quot;&gt;&lt;/a&gt;
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">## Utility Methods</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">### &lt;tt&gt;is_unique()&lt;/tt&gt;</span>
<a name="l419"><span class="linenum"> 419</span></a>  
<a name="l420"><span class="linenum"> 420</span></a>  Checks to see if a given field/value combination would be unique in the table.
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('is_unique')" href="../../_functions/is_unique.html" onMouseOver="funcPopup(event,'is_unique')">is_unique</a>('email', 'darth@theempire.com');
<a name="l423"><span class="linenum"> 423</span></a>  
<a name="l424"><span class="linenum"> 424</span></a>  
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">### &lt;tt&gt;count_all()&lt;/tt&gt;</span>
<a name="l426"><span class="linenum"> 426</span></a>  
<a name="l427"><span class="linenum"> 427</span></a>  Counts all records in the table.
<a name="l428"><span class="linenum"> 428</span></a>  
<a name="l429"><span class="linenum"> 429</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('count_all')" href="../../_functions/count_all.html" onMouseOver="funcPopup(event,'count_all')">count_all</a>();
<a name="l430"><span class="linenum"> 430</span></a>  
<a name="l431"><span class="linenum"> 431</span></a>  
<a name="l432"><span class="linenum"> 432</span></a>  Returns an INT containing the number of results, or FALSE.
<a name="l433"><span class="linenum"> 433</span></a>  
<a name="l434"><span class="linenum"> 434</span></a>  
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">### &lt;tt&gt;count_by()&lt;/tt&gt;</span>
<a name="l436"><span class="linenum"> 436</span></a>  
<a name="l437"><span class="linenum"> 437</span></a>  Counts the number of elements that match the field/value pair.
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('count_by')" href="../../_functions/count_by.html" onMouseOver="funcPopup(event,'count_by')">count_by</a>('delete', 1);
<a name="l440"><span class="linenum"> 440</span></a>  
<a name="l441"><span class="linenum"> 441</span></a>  
<a name="l442"><span class="linenum"> 442</span></a>  Returns an INT containing the number of results, or FALSE.
<a name="l443"><span class="linenum"> 443</span></a>  
<a name="l444"><span class="linenum"> 444</span></a>  
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">### &lt;tt&gt;get_field()&lt;/tt&gt;</span>
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>  A convenience method to return only a single field of the specified row. The first parameter is the ID of the row to search in. The second parameter is the column to return the value of.
<a name="l449"><span class="linenum"> 449</span></a>  
<a name="l450"><span class="linenum"> 450</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../_variables/user_id.html">$user_id</a>, 'email');
<a name="l451"><span class="linenum"> 451</span></a>  
<a name="l452"><span class="linenum"> 452</span></a>  
<a name="l453"><span class="linenum"> 453</span></a>  Returns the value of the row's field, or FALSE.
<a name="l454"><span class="linenum"> 454</span></a>  
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment">### &lt;tt&gt;get_created_field()&lt;/tt&gt;, &lt;tt&gt;get_modified_field()&lt;/tt&gt;, &lt;tt&gt;get_deleted_field()&lt;/tt&gt;, &lt;tt&gt;get_created_by_field()&lt;/tt&gt;, &lt;tt&gt;get_modified_by_field()&lt;/tt&gt;, &amp; &lt;tt&gt;get_deleted_by_field()&lt;/tt&gt;</span>
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>  Returns the names of the respective fields, or an empty string if the fields are not used by the <a class="function" onClick="logFunction('model')" href="../../_functions/model.html" onMouseOver="funcPopup(event,'model')">model</a> (based on the values of &lt;tt&gt;set_created&lt;/tt&gt;, &lt;tt&gt;set_modified&lt;/tt&gt;, &lt;tt&gt;soft_deletes&lt;/tt&gt;, and &lt;tt&gt;log_user&lt;/tt&gt;).
<a name="l458"><span class="linenum"> 458</span></a>  
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">### &lt;tt&gt;get_field_info()&lt;/tt&gt;</span>
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>  Returns the &lt;tt&gt;<a class="var it2054" onMouseOver="hilite(2054)" onMouseOut="lolite()" onClick="logVariable('field_info')" href="../../_variables/field_info.html">$field_info</a>&lt;/tt&gt; array, attempting to populate it from the database if empty.
<a name="l462"><span class="linenum"> 462</span></a>  
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">### &lt;tt&gt;prep_data()&lt;/tt&gt;</span>
<a name="l464"><span class="linenum"> 464</span></a>  
<a name="l465"><span class="linenum"> 465</span></a>  Intended to be called by a controller and/or extended in the model, &lt;tt&gt;prep_data&lt;/tt&gt; processes an array of field/value pairs (can be the result of &lt;tt&gt;<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>()&lt;/tt&gt;) and attempts to setup a &lt;tt&gt;<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>&lt;/tt&gt; array suitable for use in the model's &lt;tt&gt;insert&lt;/tt&gt;/&lt;tt&gt;update&lt;/tt&gt; methods. The output array will not include the model's &lt;tt&gt;key&lt;/tt&gt;, &lt;tt&gt;created_on&lt;/tt&gt;, &lt;tt&gt;created_by&lt;/tt&gt;, &lt;tt&gt;modified_on&lt;/tt&gt;, &lt;tt&gt;modified_by&lt;/tt&gt;, &lt;tt&gt;deleted&lt;/tt&gt;, or &lt;tt&gt;deleted_by&lt;/tt&gt; fields, or fields indicated as the primary key in the model's &lt;tt&gt;field_info&lt;/tt&gt; array.
<a name="l466"><span class="linenum"> 466</span></a>  
<a name="l467"><span class="linenum"> 467</span></a>  For example, the user_model extends prep_data to map field names from the view that don't match the tables in the database and ensure fields that should not be set are not set:
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>  
<a name="l470"><span class="linenum"> 470</span></a>      public function <a class="function" onClick="logFunction('prep_data')" href="../../_functions/prep_data.html" onMouseOver="funcPopup(event,'prep_data')">prep_data</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>)
<a name="l471"><span class="linenum"> 471</span></a>      {
<a name="l472"><span class="linenum"> 472</span></a>          <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = parent::<a class="function" onClick="logFunction('prep_data')" href="../../_functions/prep_data.html" onMouseOver="funcPopup(event,'prep_data')">prep_data</a>(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>);
<a name="l473"><span class="linenum"> 473</span></a>  
<a name="l474"><span class="linenum"> 474</span></a>          if ( ! empty(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['timezones'])) {
<a name="l475"><span class="linenum"> 475</span></a>              <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['timezone'] = <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['timezones'];
<a name="l476"><span class="linenum"> 476</span></a>          }
<a name="l477"><span class="linenum"> 477</span></a>          if ( ! empty(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['password'])) {
<a name="l478"><span class="linenum"> 478</span></a>              <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['password'] = <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['password'];
<a name="l479"><span class="linenum"> 479</span></a>          }
<a name="l480"><span class="linenum"> 480</span></a>          if (<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['display_name'] === '') {
<a name="l481"><span class="linenum"> 481</span></a>              unset(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['display_name']);
<a name="l482"><span class="linenum"> 482</span></a>          }
<a name="l483"><span class="linenum"> 483</span></a>          if (isset(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['restore']) &amp;&amp; <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['restore']) {
<a name="l484"><span class="linenum"> 484</span></a>              <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['deleted'] = 0;
<a name="l485"><span class="linenum"> 485</span></a>          }
<a name="l486"><span class="linenum"> 486</span></a>          if (isset(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['unban']) &amp;&amp; <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['unban']) {
<a name="l487"><span class="linenum"> 487</span></a>              <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['banned'] = 0;
<a name="l488"><span class="linenum"> 488</span></a>          }
<a name="l489"><span class="linenum"> 489</span></a>          if (isset(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['activate']) &amp;&amp; <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['activate']) {
<a name="l490"><span class="linenum"> 490</span></a>              <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['active'] = 1;
<a name="l491"><span class="linenum"> 491</span></a>          } elseif (isset(<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['deactivate']) &amp;&amp; <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('post_data')" href="../../_variables/post_data.html">$post_data</a>['deactivate']) {
<a name="l492"><span class="linenum"> 492</span></a>              <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['active'] = 0;
<a name="l493"><span class="linenum"> 493</span></a>          }
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>          return <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>;
<a name="l496"><span class="linenum"> 496</span></a>      }
<a name="l497"><span class="linenum"> 497</span></a>  
<a name="l498"><span class="linenum"> 498</span></a>  
<a name="l499"><span class="linenum"> 499</span></a>  The User Settings controller then uses the model's &lt;tt&gt;prep_data&lt;/tt&gt; method to process the post data before inserting/updating the user:
<a name="l500"><span class="linenum"> 500</span></a>  
<a name="l501"><span class="linenum"> 501</span></a>  
<a name="l502"><span class="linenum"> 502</span></a>  	private function <a class="function" onClick="logFunction('save_user')" href="../../_functions/save_user.html" onMouseOver="funcPopup(event,'save_user')">save_user</a>(<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>='insert', <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>=0, <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('meta_fields')" href="../../_variables/meta_fields.html">$meta_fields</a>=array(), <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('cur_role_name')" href="../../_variables/cur_role_name.html">$cur_role_name</a> = '')
<a name="l503"><span class="linenum"> 503</span></a>      {
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">        /* ... Omitting validation setup and gathering of user_meta data ... */</span>
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">        // Compile our core user elements to save.</span>
<a name="l507"><span class="linenum"> 507</span></a>          <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('prep_data')" href="../../_functions/prep_data.html" onMouseOver="funcPopup(event,'prep_data')">prep_data</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('input')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/input.html">input</a>-&gt;<a class="function" onClick="logFunction('post')" href="../../_functions/post.html" onMouseOver="funcPopup(event,'post')">post</a>());
<a name="l508"><span class="linenum"> 508</span></a>  
<a name="l509"><span class="linenum"> 509</span></a>          if (<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'insert') {
<a name="l510"><span class="linenum"> 510</span></a>              <a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('activation_method')" href="../../_variables/activation_method.html">$activation_method</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settings_lib')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/settings_lib.html">settings_lib</a>-&gt;<a class="function" onClick="logFunction('item')" href="../../_functions/item.html" onMouseOver="funcPopup(event,'item')">item</a>('auth.user_activation_method');
<a name="l511"><span class="linenum"> 511</span></a>  
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment">            // No activation method</span>
<a name="l513"><span class="linenum"> 513</span></a>              if (<a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('activation_method')" href="../../_variables/activation_method.html">$activation_method</a> == 0) {
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">                // Activate the user automatically</span>
<a name="l515"><span class="linenum"> 515</span></a>                  <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>['active'] = 1;
<a name="l516"><span class="linenum"> 516</span></a>              }
<a name="l517"><span class="linenum"> 517</span></a>  
<a name="l518"><span class="linenum"> 518</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('insert')" href="../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l519"><span class="linenum"> 519</span></a>              <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l520"><span class="linenum"> 520</span></a>          } else {    // Update
<a name="l521"><span class="linenum"> 521</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('update')" href="../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, <a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l522"><span class="linenum"> 522</span></a>          }
<a name="l523"><span class="linenum"> 523</span></a>  
<a name="l524"><span class="linenum"> 524</span></a>  <span class="comment">        /* ... Omitting saving user_meta data and event trigger ... */</span>
<a name="l525"><span class="linenum"> 525</span></a>  
<a name="l526"><span class="linenum"> 526</span></a>          return <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l527"><span class="linenum"> 527</span></a>  
<a name="l528"><span class="linenum"> 528</span></a>      }<span class="comment">//end save_user()</span>
<a name="l529"><span class="linenum"> 529</span></a>  
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>  &lt;a name=&quot;returns&quot;&gt;&lt;/a&gt;
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">## Return Types</span>
<a name="l533"><span class="linenum"> 533</span></a>  
<a name="l534"><span class="linenum"> 534</span></a>  You can temporarily override the type of records returned by the model by using the folliwing commands. This allows you to use objects as a default since they consume less memory, but ask for the results as an array for a single method that you need the extra flexibilty arrays provide.
<a name="l535"><span class="linenum"> 535</span></a>  
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">### &lt;tt&gt;as_array()&lt;/tt&gt;</span>
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>  A chainable method that specifies the model should return the results as an array (for single results) or an array of arrays (for multiple rows). This overrides the models &lt;tt&gt;<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('result_type')" href="../../_variables/result_type.html">$result_type</a>&lt;/tt&gt; class variable.
<a name="l539"><span class="linenum"> 539</span></a>  
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">### &lt;tt&gt;as_object()&lt;/tt&gt;</span>
<a name="l541"><span class="linenum"> 541</span></a>  
<a name="l542"><span class="linenum"> 542</span></a>  A chainable method that specifies the model should return the results as an object (for single results) or an array of objects (for multiple rows). This overrides the models &lt;tt&gt;<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('result_type')" href="../../_variables/result_type.html">$result_type</a>&lt;/tt&gt; class variable.
<a name="l543"><span class="linenum"> 543</span></a>  
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">### &lt;tt&gt;as_json()&lt;/tt&gt;</span>
<a name="l545"><span class="linenum"> 545</span></a>  
<a name="l546"><span class="linenum"> 546</span></a>  A chainable method that specifies the model should return the results as a JSON object suitable for returning in AJAX methods. This overrides the models &lt;tt&gt;<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('result_type')" href="../../_variables/result_type.html">$result_type</a>&lt;/tt&gt; class variable.
<a name="l547"><span class="linenum"> 547</span></a>  
<a name="l548"><span class="linenum"> 548</span></a>  
<a name="l549"><span class="linenum"> 549</span></a>  &lt;a name=&quot;chainable&quot;&gt;&lt;/a&gt;
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">## Chainable Methods</span>
<a name="l551"><span class="linenum"> 551</span></a>  
<a name="l552"><span class="linenum"> 552</span></a>  Thanks to CodeIgniter's [ActiveRecord](http://ellislab.com/codeigniter/user-guide/database/active_record.html) library, it is very simply to modify the BF_Model's methods. This can be done through either chainable methods or by extending methods.
<a name="l553"><span class="linenum"> 553</span></a>  
<a name="l554"><span class="linenum"> 554</span></a>  Chainable methods are a feature of PHP 5 and higher that allow you to return the results of one function into another, and to keep this 'chain' of events continuing through several functions. Bonfire duplicates several of the stock ActiveRecord methods in BF_Model to make it simple and elegant to customize your queries.
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>  Bonfire's model supports chaining for most of the ActiveRecord methods available, including:
<a name="l557"><span class="linenum"> 557</span></a>  
<a name="l558"><span class="linenum"> 558</span></a>  * select
<a name="l559"><span class="linenum"> 559</span></a>  * select_max
<a name="l560"><span class="linenum"> 560</span></a>  * select_min
<a name="l561"><span class="linenum"> 561</span></a>  * select_avg
<a name="l562"><span class="linenum"> 562</span></a>  * select_sum
<a name="l563"><span class="linenum"> 563</span></a>  * distinct
<a name="l564"><span class="linenum"> 564</span></a>  * from
<a name="l565"><span class="linenum"> 565</span></a>  * join
<a name="l566"><span class="linenum"> 566</span></a>  * where
<a name="l567"><span class="linenum"> 567</span></a>  * or_where
<a name="l568"><span class="linenum"> 568</span></a>  * where_in
<a name="l569"><span class="linenum"> 569</span></a>  * or_where_in
<a name="l570"><span class="linenum"> 570</span></a>  * where_not_in
<a name="l571"><span class="linenum"> 571</span></a>  * or_where_not_in
<a name="l572"><span class="linenum"> 572</span></a>  * like
<a name="l573"><span class="linenum"> 573</span></a>  * not_like
<a name="l574"><span class="linenum"> 574</span></a>  * or_like
<a name="l575"><span class="linenum"> 575</span></a>  * or_not_like
<a name="l576"><span class="linenum"> 576</span></a>  * group_by
<a name="l577"><span class="linenum"> 577</span></a>  * having
<a name="l578"><span class="linenum"> 578</span></a>  * or_having
<a name="l579"><span class="linenum"> 579</span></a>  * limit
<a name="l580"><span class="linenum"> 580</span></a>  * offset
<a name="l581"><span class="linenum"> 581</span></a>  * set
<a name="l582"><span class="linenum"> 582</span></a>  
<a name="l583"><span class="linenum"> 583</span></a>  All of these methods accept the same parameters as their [CodeIgniter](http://ellislab.com/codeigniter/user-guide/database/active_record.html) counterparts. These are included for the sole reason of making your syntax more expressive. You can now do things like:
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>('city', 'Detroit')
<a name="l586"><span class="linenum"> 586</span></a>                       -&gt;<a class="function" onClick="logFunction('or_where')" href="../../_functions/or_where.html" onMouseOver="funcPopup(event,'or_where')">or_where</a>('city', 'Cleveland')
<a name="l587"><span class="linenum"> 587</span></a>                       -&gt;<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('tour_dates', 'x on y')
<a name="l588"><span class="linenum"> 588</span></a>                       -&gt;<a class="function" onClick="logFunction('find_all')" href="../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l589"><span class="linenum"> 589</span></a>  
<a name="l590"><span class="linenum"> 590</span></a>  
<a name="l591"><span class="linenum"> 591</span></a>  
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">### &lt;tt&gt;where()&lt;/tt&gt;</span>
<a name="l593"><span class="linenum"> 593</span></a>  
<a name="l594"><span class="linenum"> 594</span></a>  Modifies the query to a specific &lt;tt&gt;where&lt;/tt&gt; condition. Can be used with any of the read-type queries (find, find_all, etc).
<a name="l595"><span class="linenum"> 595</span></a>  
<a name="l596"><span class="linenum"> 596</span></a>  The first parameter is the field to match against. The second parameter is the value of the field to find.
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>  Accepts any of the standard CodeIgniter ActiveRecord where statements.
<a name="l599"><span class="linenum"> 599</span></a>  
<a name="l600"><span class="linenum"> 600</span></a>  
<a name="l601"><span class="linenum"> 601</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>('email', 'darth@theempire.com');
<a name="l602"><span class="linenum"> 602</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>('email !=', 'darth@theempire.com');
<a name="l603"><span class="linenum"> 603</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>( array('email' =&gt; 'darth@theempire.com') );
<a name="l604"><span class="linenum"> 604</span></a>  
<a name="l605"><span class="linenum"> 605</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>('email', 'darth@theempire.com')
<a name="l606"><span class="linenum"> 606</span></a>                       -&gt;<a class="function" onClick="logFunction('find_all')" href="../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l607"><span class="linenum"> 607</span></a>  
<a name="l608"><span class="linenum"> 608</span></a>  
<a name="l609"><span class="linenum"> 609</span></a>  You can also pass an array of field/value pairs as the first parameter. In this case, the second parameter is ignored.
<a name="l610"><span class="linenum"> 610</span></a>  
<a name="l611"><span class="linenum"> 611</span></a>  
<a name="l612"><span class="linenum"> 612</span></a>      <a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('wheres')" href="../../_variables/wheres.html">$wheres</a> = array(
<a name="l613"><span class="linenum"> 613</span></a>          ‘active’        =&gt; 1,
<a name="l614"><span class="linenum"> 614</span></a>          ‘deleted’   =&gt; 0
<a name="l615"><span class="linenum"> 615</span></a>      );
<a name="l616"><span class="linenum"> 616</span></a>      <a class="var it688" onMouseOver="hilite(688)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/model.html">model</a>-&gt;<a class="function" onClick="logFunction('where')" href="../../_functions/where.html" onMouseOver="funcPopup(event,'where')">where</a>(<a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('wheres')" href="../../_variables/wheres.html">$wheres</a>)-&gt;<a class="function" onClick="logFunction('find_all')" href="../../_functions/find_all.html" onMouseOver="funcPopup(event,'find_all')">find_all</a>();
<a name="l617"><span class="linenum"> 617</span></a>  
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>  &lt;a name=&quot;extending&quot;&gt;&lt;/a&gt;
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">## Extending Methods</span>
<a name="l622"><span class="linenum"> 622</span></a>  
<a name="l623"><span class="linenum"> 623</span></a>  While it is possible to modify the query via the chainable methods any time you need results in your controller, it is highly recommended to extend the model's methods to bring you the results you need. This keeps all of your changes to queries in a single place.
<a name="l624"><span class="linenum"> 624</span></a>  
<a name="l625"><span class="linenum"> 625</span></a>  Sometimes, you might want to do some additional processing to the database results before passing it on to the controller. This is another perfect example of when to extend the model's method.
<a name="l626"><span class="linenum"> 626</span></a>  
<a name="l627"><span class="linenum"> 627</span></a>  To extend an existing method, you simply create a new method in your model that accepts the same parameters as the original BF_Model method.
<a name="l628"><span class="linenum"> 628</span></a>  
<a name="l629"><span class="linenum"> 629</span></a>  
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">    // Extend the existing functionality.</span>
<a name="l631"><span class="linenum"> 631</span></a>      public function <a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>=null)
<a name="l632"><span class="linenum"> 632</span></a>      {
<a name="l633"><span class="linenum"> 633</span></a>          <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = parent::<a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>);
<a name="l634"><span class="linenum"> 634</span></a>  
<a name="l635"><span class="linenum"> 635</span></a>          if (<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>)
<a name="l636"><span class="linenum"> 636</span></a>          {
<a name="l637"><span class="linenum"> 637</span></a>              <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('display_name')" class="var it2889" onMouseOver="hilite(2889)" onMouseOut="lolite()" href="../../_variables/display_name.html">display_name</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;format_name(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>);
<a name="l638"><span class="linenum"> 638</span></a>          }
<a name="l639"><span class="linenum"> 639</span></a>  
<a name="l640"><span class="linenum"> 640</span></a>          return <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l641"><span class="linenum"> 641</span></a>      }
<a name="l642"><span class="linenum"> 642</span></a>  
<a name="l643"><span class="linenum"> 643</span></a>  
<a name="l644"><span class="linenum"> 644</span></a>  
<a name="l645"><span class="linenum"> 645</span></a>  
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment">## Modify Query in Controller</span>
<a name="l647"><span class="linenum"> 647</span></a>  
<a name="l648"><span class="linenum"> 648</span></a>  You can modify a query in your model for a single use by using CodeIgniter's ActiveRecord commands in your controllers. Since BF_Model uses the ActiveRecord commands, the changes in your controller will affect the results of the next query in your model.
<a name="l649"><span class="linenum"> 649</span></a>  
<a name="l650"><span class="linenum"> 650</span></a>  
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">    // In your controller.</span>
<a name="l652"><span class="linenum"> 652</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('db')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/db.html">db</a>-&gt;<a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('other_table', 'link_field = users.id', 'left');
<a name="l653"><span class="linenum"> 653</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(<a class="var it894" onMouseOver="hilite(894)" onMouseOut="lolite()" onClick="logVariable('user_id')" href="../../_variables/user_id.html">$user_id</a>);
<a name="l654"><span class="linenum"> 654</span></a>  
<a name="l655"><span class="linenum"> 655</span></a>  
<a name="l656"><span class="linenum"> 656</span></a>  
<a name="l657"><span class="linenum"> 657</span></a>  &lt;a name=&quot;observers&quot;&gt;&lt;/a&gt;
<a name="l658"><span class="linenum"> 658</span></a>  <span class="comment">## Observers</span>
<a name="l659"><span class="linenum"> 659</span></a>  
<a name="l660"><span class="linenum"> 660</span></a>  Observers provide a simple and convenient method for your models to change portions of the data at certain execution points within a model’s interaction. This can be very handy for adding in the created_on time before inserting a record, or deleting related records in other tables whenever a user is deleted.
<a name="l661"><span class="linenum"> 661</span></a>  
<a name="l662"><span class="linenum"> 662</span></a>  The following events can be observed by your class:
<a name="l663"><span class="linenum"> 663</span></a>  
<a name="l664"><span class="linenum"> 664</span></a>  - before_insert
<a name="l665"><span class="linenum"> 665</span></a>  - after_insert
<a name="l666"><span class="linenum"> 666</span></a>  - before_update
<a name="l667"><span class="linenum"> 667</span></a>  - after_update
<a name="l668"><span class="linenum"> 668</span></a>  - before_find
<a name="l669"><span class="linenum"> 669</span></a>  - after_find
<a name="l670"><span class="linenum"> 670</span></a>  - before_delete
<a name="l671"><span class="linenum"> 671</span></a>  - after_delete
<a name="l672"><span class="linenum"> 672</span></a>  - empty_validation_rules
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>  These are each arrays that should have the name of the methods to call, in order of priority as the array’s elements.
<a name="l675"><span class="linenum"> 675</span></a>  
<a name="l676"><span class="linenum"> 676</span></a>  
<a name="l677"><span class="linenum"> 677</span></a>      protected <a class="var it923" onMouseOver="hilite(923)" onMouseOut="lolite()" onClick="logVariable('before_insert')" href="../../_variables/before_insert.html">$before_insert</a> = array(‘set_created_on’, ‘another_callback’);
<a name="l678"><span class="linenum"> 678</span></a>  
<a name="l679"><span class="linenum"> 679</span></a>  
<a name="l680"><span class="linenum"> 680</span></a>  To observe an event and have your methods called you simply add the method name to the definition array and create a new function.
<a name="l681"><span class="linenum"> 681</span></a>  
<a name="l682"><span class="linenum"> 682</span></a>  
<a name="l683"><span class="linenum"> 683</span></a>      protected function <a class="function" onClick="logFunction('set_created_on')" href="../../_functions/set_created_on.html" onMouseOver="funcPopup(event,'set_created_on')">set_created_on</a>(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>)
<a name="l684"><span class="linenum"> 684</span></a>      {
<a name="l685"><span class="linenum"> 685</span></a>          if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('created_field')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/created_field.html">created_field</a>, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>))
<a name="l686"><span class="linenum"> 686</span></a>          {
<a name="l687"><span class="linenum"> 687</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>[<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('created_field')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/created_field.html">created_field</a>] = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_date')" href="../../_functions/set_date.html" onMouseOver="funcPopup(event,'set_date')">set_date</a>();
<a name="l688"><span class="linenum"> 688</span></a>          }
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>          return <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>;
<a name="l691"><span class="linenum"> 691</span></a>      }
<a name="l692"><span class="linenum"> 692</span></a>  
<a name="l693"><span class="linenum"> 693</span></a>  Each observing method must accept a single parameter. Depending on the event triggered, this might be a single INT, or an array of values, etc. Check the function to verify what the payload being passed along is for the event you’re observing.
<a name="l694"><span class="linenum"> 694</span></a>  
<a name="l695"><span class="linenum"> 695</span></a>  The following table lists what data should be expected during each observer. Note that the *_batch or *_many may exhibit slightly different behaviour. You should familiarize yourself with code for each if you need special triggers for these situations.
<a name="l696"><span class="linenum"> 696</span></a>  
<a name="l697"><span class="linenum"> 697</span></a>  Trigger                 | Type          | Description
<a name="l698"><span class="linenum"> 698</span></a>  ------------------------|---------------|-------------------------------------------------
<a name="l699"><span class="linenum"> 699</span></a>  before_insert           | array         | The values to be inserted in the new record
<a name="l700"><span class="linenum"> 700</span></a>  after_insert            | mixed         | The primary_key of the row just inserted.
<a name="l701"><span class="linenum"> 701</span></a>  before_update           | array         | The values to be updated. Does NOT include the primary key.
<a name="l702"><span class="linenum"> 702</span></a>  after_update            | array         | The data that was inserted (including any modifications made in before_udpate).
<a name="l703"><span class="linenum"> 703</span></a>  before_find             | mixed         | The primary_key of the row to find.
<a name="l704"><span class="linenum"> 704</span></a>  after_find              | array/object  | The found object/array (depends on the specified return type for that model)
<a name="l705"><span class="linenum"> 705</span></a>  before_delete           | mixed         | The primary_key of the row to be deleted.
<a name="l706"><span class="linenum"> 706</span></a>  after_delete            | mixed         | The primary_key of the row that was just deleted.
<a name="l707"><span class="linenum"> 707</span></a>  empty_validation_rules  | array         | An array of temporary validation rules.
<a name="l708"><span class="linenum"> 708</span></a>  
<a name="l709"><span class="linenum"> 709</span></a>  
<a name="l710"><span class="linenum"> 710</span></a>  &lt;a name=&quot;validation&quot;&gt;&lt;/a&gt;
<a name="l711"><span class="linenum"> 711</span></a>  <span class="comment">## Validating Data</span>
<a name="l712"><span class="linenum"> 712</span></a>  
<a name="l713"><span class="linenum"> 713</span></a>  The model should contain all of the validation rules for your data so that it is always kept in a single place with the model that represents it. Bonfire's models provide a simple way to automatically have your data validated during inserts and updates.
<a name="l714"><span class="linenum"> 714</span></a>  
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">### Basic Validation</span>
<a name="l716"><span class="linenum"> 716</span></a>  
<a name="l717"><span class="linenum"> 717</span></a>  The &lt;tt&gt;<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('validation_rules')" href="../../_variables/validation_rules.html">$validation_rules</a>&lt;/tt&gt; variable can take an array of data that follows the same format as CodeIgniter's [Form Validation Library](http://ellislab.com/codeigniter/user-guide/libraries/form_validation.html#validationrulesasarray).
<a name="l718"><span class="linenum"> 718</span></a>  
<a name="l719"><span class="linenum"> 719</span></a>      protected <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('validation_rules')" href="../../_variables/validation_rules.html">$validation_rules</a> = array(
<a name="l720"><span class="linenum"> 720</span></a>          array(
<a name="l721"><span class="linenum"> 721</span></a>              'field' =&gt; 'username',
<a name="l722"><span class="linenum"> 722</span></a>              'label' =&gt; 'Username',
<a name="l723"><span class="linenum"> 723</span></a>              'rules' =&gt; 'trim|strip_tags|min_length[4]|xss_clean'
<a name="l724"><span class="linenum"> 724</span></a>          ),
<a name="l725"><span class="linenum"> 725</span></a>          array(
<a name="l726"><span class="linenum"> 726</span></a>              'field' =&gt; 'password',
<a name="l727"><span class="linenum"> 727</span></a>              'label' =&gt; 'Password',
<a name="l728"><span class="linenum"> 728</span></a>              'rules' =&gt; 'trim|min_length[8]'
<a name="l729"><span class="linenum"> 729</span></a>          )
<a name="l730"><span class="linenum"> 730</span></a>      );
<a name="l731"><span class="linenum"> 731</span></a>  
<a name="l732"><span class="linenum"> 732</span></a>  During an insert or update, the data passed in is automatically validated using the form_validaiton library. If the validation doesn't pass successfully, the insert/update method will return a value of FALSE and the form_validation_ library will function as expected, providing errors through &lt;tt&gt;validation_errors&lt;/tt&gt; and &lt;tt&gt;form_error&lt;/tt&gt;.
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">### Insert Rules Customization</span>
<a name="l735"><span class="linenum"> 735</span></a>  
<a name="l736"><span class="linenum"> 736</span></a>  Often, you will have certain rules that are slightly different during object creation than you will during an update. Frequently, this is as simple as having a field required during inserts, but not during updates. You can handle this by adding any additional rules for inserts in the &lt;tt&gt;<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('insert_validation_rules')" href="../../_variables/insert_validation_rules.html">$insert_validation_rules</a>&lt;/tt&gt; class variable.
<a name="l737"><span class="linenum"> 737</span></a>  
<a name="l738"><span class="linenum"> 738</span></a>      protected <a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('insert_validation_rules')" href="../../_variables/insert_validation_rules.html">$insert_validation_rules</a> = array(
<a name="l739"><span class="linenum"> 739</span></a>         'password'   =&gt; 'required|matches[pass_confirm]'
<a name="l740"><span class="linenum"> 740</span></a>      );
<a name="l741"><span class="linenum"> 741</span></a>  
<a name="l742"><span class="linenum"> 742</span></a>  Unlike, the <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('validation_rules')" href="../../_variables/validation_rules.html">$validation_rules</a> array, the <a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('insert_validation_rules')" href="../../_variables/insert_validation_rules.html">$insert_validation_rules</a> array consists of the field name as the key, and the additional rules as the value. Theses rules are added at the end of the normal rules string before being passed to the form_validation library.
<a name="l743"><span class="linenum"> 743</span></a>  
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">### Skipping Validation</span>
<a name="l745"><span class="linenum"> 745</span></a>  
<a name="l746"><span class="linenum"> 746</span></a>  If you need to turn off validation for any reason (like performance durin a large CSV import) you can use the &lt;tt&gt;<a class="function" onClick="logFunction('skip_validation')" href="../../_functions/skip_validation.html" onMouseOver="funcPopup(event,'skip_validation')">skip_validation</a>()&lt;/tt&gt; method, passing either TRUE or FALSE to the skip or not skip the validation process. This stays in effect as long as the model is loaded but will reset the next time the model is loaded in memory. Typically the next page request.
<a name="l747"><span class="linenum"> 747</span></a>  
<a name="l748"><span class="linenum"> 748</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('skip_validation')" href="../../_functions/skip_validation.html" onMouseOver="funcPopup(event,'skip_validation')">skip_validation</a>(true);
<a name="l749"><span class="linenum"> 749</span></a>  
<a name="l750"><span class="linenum"> 750</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('user_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/user_model.html">user_model</a>-&gt;<a class="function" onClick="logFunction('skip_validation')" href="../../_functions/skip_validation.html" onMouseOver="funcPopup(event,'skip_validation')">skip_validation</a>(true)-&gt;<a class="function" onClick="logFunction('insert')" href="../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(<a class="var it159" onMouseOver="hilite(159)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l751"><span class="linenum"> 751</span></a>  
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment">### Traditional validation using the Model's validation rules</span>
<a name="l753"><span class="linenum"> 753</span></a>  
<a name="l754"><span class="linenum"> 754</span></a>  If you wish to perform validation in the Controller (or another Model), you can retrieve the validation rules from the Model using the &lt;tt&gt;<a class="function" onClick="logFunction('get_validation_rules')" href="../../_functions/get_validation_rules.html" onMouseOver="funcPopup(event,'get_validation_rules')">get_validation_rules</a>()&lt;/tt&gt; method, passing either 'update' or 'insert' to determine whether the &lt;tt&gt;<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('insert_validation_rules')" href="../../_variables/insert_validation_rules.html">$insert_validation_rules</a>&lt;/tt&gt; are added (you will probably want to disable the model's validation when calling the &lt;tt&gt;<a class="function" onClick="logFunction('insert')" href="../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>()&lt;/tt&gt;/&lt;tt&gt;<a class="function" onClick="logFunction('update')" href="../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>()&lt;/tt&gt; methods using the &lt;tt&gt;<a class="function" onClick="logFunction('skip_validation')" href="../../_functions/skip_validation.html" onMouseOver="funcPopup(event,'skip_validation')">skip_validation</a>()&lt;/tt&gt; method or the model's &lt;tt&gt;skip_validation&lt;/tt&gt; property). The rules may then be passed to CI's Form Validation library to perform validation:
<a name="l755"><span class="linenum"> 755</span></a>  
<a name="l756"><span class="linenum"> 756</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('set_rules')" href="../../_functions/set_rules.html" onMouseOver="funcPopup(event,'set_rules')">set_rules</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('example_model')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/example_model.html">example_model</a>-&gt;<a class="function" onClick="logFunction('get_validation_rules')" href="../../_functions/get_validation_rules.html" onMouseOver="funcPopup(event,'get_validation_rules')">get_validation_rules</a>('update'));
<a name="l757"><span class="linenum"> 757</span></a>  
<a name="l758"><span class="linenum"> 758</span></a>      if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('form_validation')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/form_validation.html">form_validation</a>-&gt;<a class="function" onClick="logFunction('run')" href="../../_functions/run.html" onMouseOver="funcPopup(event,'run')">run</a>() === false) {
<a name="l759"><span class="linenum"> 759</span></a>          return false;
<a name="l760"><span class="linenum"> 760</span></a>      }
<a name="l761"><span class="linenum"> 761</span></a>  
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">### Generating validation rules</span>
<a name="l763"><span class="linenum"> 763</span></a>  
<a name="l764"><span class="linenum"> 764</span></a>  If you want to generate the validation rules in code (rather than supplying a hard-coded array), you can supply the name of a function to the &lt;tt&gt;<a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('empty_validation_rules')" href="../../_variables/empty_validation_rules.html">$empty_validation_rules</a>&lt;/tt&gt; observer to generate the validation rules. The function will receive an array of the current validation rules (usually empty or a non-array value, but if multiple functions are used with the observer, it may be a valid array), and is expected to return an array of validation rules.
<a name="l765"><span class="linenum"> 765</span></a>  
<a name="l766"><span class="linenum"> 766</span></a>  For instance, you could create a function that uses <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('db')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/db.html">db</a>-&gt;<a class="function" onClick="logFunction('field_data')" href="../../_functions/field_data.html" onMouseOver="funcPopup(event,'field_data')">field_data</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table_name')" class="var it2865" onMouseOver="hilite(2865)" onMouseOut="lolite()" href="../../_variables/table_name.html">table_name</a>) to retrieve the field information directly from the database, then iterate through the results to create validation rules for each field based on the information returned by the database.
<a name="l767"><span class="linenum"> 767</span></a>  
<a name="l768"><span class="linenum"> 768</span></a>  Because it is faster to use the array, the observer will not be called if the array has been <a class="function" onClick="logFunction('set')" href="../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a> (and the array generated by the observer when it is called will be assigned to the array to prevent the current instance of the model from attempting to generate the rules again).
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'insert': ['insert', 'Insert ', [['bonfire/codeigniter/database','DB_active_rec.php',1154],['tests/_support','database.php',33],['bonfire/codeigniter/libraries','Cart.php',78],['application/core','MY_Model.php',584],['bonfire/modules/users/models','user_model.php',272]], 61],
'as_array': ['as_array', 'Temporarily sets our return type to an array. ', [['application/core','MY_Model.php',1118]], 6],
'field_data': ['field_data', 'Field data ', [['bonfire/codeigniter/database/drivers/sqlsrv','sqlsrv_result.php',76],['bonfire/codeigniter/database','DB_driver.php',869],['bonfire/codeigniter/database/drivers/mongodb','mongodb_result.php',54],['bonfire/codeigniter/database/drivers/pdo','pdo_result.php',86],['bonfire/codeigniter/database/drivers/mssql','mssql_result.php',76],['bonfire/codeigniter/database/drivers/sqlite','sqlite_result.php',76],['bonfire/codeigniter/database/drivers/mysql','mysql_result.php',76],['bonfire/codeigniter/database/drivers/cubrid','cubrid_result.php',70],['bonfire/codeigniter/database','DB_result.php',400],['bonfire/codeigniter/database/drivers/mysqli','mysqli_result.php',76],['bonfire/codeigniter/database/drivers/oci8','oci8_result.php',100],['bonfire/codeigniter/database/drivers/odbc','odbc_result.php',76],['bonfire/codeigniter/database/drivers/postgre','postgre_result.php',76]], 5],
'count_all': ['count_all', '"Count All" query ', [['bonfire/codeigniter/database/drivers/mssql','mssql_driver.php',345],['bonfire/codeigniter/database/drivers/mysqli','mysqli_driver.php',364],['bonfire/codeigniter/database/drivers/pdo','pdo_driver.php',398],['bonfire/codeigniter/database/drivers/odbc','odbc_driver.php',317],['bonfire/codeigniter/database/drivers/sqlsrv','sqlsrv_driver.php',326],['tests/_support','database.php',44],['bonfire/codeigniter/database/drivers/mysql','mysql_driver.php',363],['bonfire/codeigniter/database/drivers/sqlite','sqlite_driver.php',332],['application/core','MY_Model.php',915],['bonfire/codeigniter/database/drivers/postgre','postgre_driver.php',363],['bonfire/codeigniter/database/drivers/oci8','oci8_driver.php',448],['bonfire/modules/users/models','user_model.php',534],['bonfire/codeigniter/database/drivers/cubrid','cubrid_driver.php',376]], 9],
'update_batch': ['update_batch', 'Update_Batch ', [['bonfire/codeigniter/database','DB_active_rec.php',1310],['tests/_support','database.php',38],['application/core','MY_Model.php',736]], 11],
'delete': ['delete', 'Deletes the entries in the activity log for the specified area. ', [['bonfire/modules/activities/controllers','reports.php',202],['bonfire/libraries','BF_Cache_file.php',102],['bonfire/modules/settings/libraries','settings_lib.php',178],['bonfire/codeigniter/database','DB_active_rec.php',1509],['bonfire/modules/roles/models','role_permission_model.php',168],['bonfire/codeigniter/libraries/Cache/drivers','Cache_apc.php',64],['tests/simpletest','web_tester.php',733],['tests/_support','database.php',39],['bonfire/codeigniter/libraries/Cache/drivers','Cache_memcached.php',81],['bonfire/modules/permissions/models','permission_model.php',113],['bonfire/codeigniter/database','DB_cache.php',155],['bonfire/codeigniter/libraries/Cache/drivers','Cache_file.php',102],['bonfire/modules/roles/models','role_model.php',217],['bonfire/codeigniter/libraries/Cache','Cache.php',86],['bonfire/codeigniter/libraries/Cache/drivers','Cache_dummy.php',61],['application/core','MY_Model.php',777],['tests/simpletest','browser.php',540],['bonfire/modules/builder/controllers','developer.php',278],['bonfire/modules/users/models','user_model.php',561]], 83],
'skip_validation': ['skip_validation', 'Sets the value of the skip_validation flag ', [['application/core','MY_Model.php',1170]], 4],
'where': ['where', 'Where ', [['bonfire/codeigniter/database','DB_active_rec.php',354],['tests/_support','database.php',18],['application/core','MY_Model.php',1028]], 112],
'update': ['update', 'Update ', [['bonfire/codeigniter/database','DB_active_rec.php',1248],['tests/_support','database.php',37],['bonfire/modules/permissions/models','permission_model.php',158],['bonfire/codeigniter/libraries','Cart.php',252],['bonfire/modules/roles/models','role_model.php',167],['application/core','MY_Model.php',677],['bonfire/codeigniter/libraries','Javascript.php',730],['bonfire/modules/users/models','user_model.php',336]], 62],
'post': ['post', 'Fetch an item from the POST array ', [['bonfire/codeigniter/core','Input.php',164],['tests/simpletest','web_tester.php',703],['tests/simpletest','browser.php',507]], 194],
'model': ['model', '', [['application/third_party/MX','Loader.php',180],['bonfire/codeigniter/core','Loader.php',221]], 60],
'set_date': ['set_date', 'A utility function to allow child models to use the type of date/time format that they prefer. This is primarily used for setting created_on and modified_on values, but can be used by inheriting classes. ', [['application/core','MY_Model.php',1424]], 5],
'count_by': ['count_by', 'Returns the number of elements that match the field/value pair. ', [['application/core','MY_Model.php',934]], 7],
'set_rules': ['set_rules', 'Set Rules ', [['bonfire/codeigniter/libraries','Form_validation.php',63]], 103],
'prep_data': ['prep_data', '', [['bonfire/docs','bonfire_models.md',470],['application/core','MY_Model.php',1780],['bonfire/modules/users/models','user_model.php',195]], 6],
'run': ['run', 'Run the tests ', [['bonfire/codeigniter/libraries','Unit_test.php',75],['tests/simpletest','remote.php',48],['application/libraries','MY_Form_validation.php',91],['bonfire/codeigniter/libraries','Form_validation.php',273],['bonfire/codeigniter/libraries','Profiler.php',524],['tests/simpletest','detached.php',47],['tests/simpletest','test_case.php',118],['tests/simpletest','test_case.php',548],['tests/simpletest','test_case.php',636],['application/third_party/MX','Modules.php',52],['application/libraries','Profiler.php',519]], 58],
'limit': ['limit', 'Sets the LIMIT value ', [['bonfire/codeigniter/database','DB_active_rec.php',868],['tests/_support','database.php',41],['application/core','MY_Model.php',1855]], 20],
'select': ['select', 'Select ', [['bonfire/codeigniter/database','DB_active_rec.php',67],['tests/_support','database.php',7],['application/core','MY_Model.php',1834]], 62],
'insert_batch': ['insert_batch', 'Insert_Batch ', [['bonfire/codeigniter/database','DB_active_rec.php',1037],['tests/_support','database.php',34],['application/core','MY_Model.php',625]], 32],
'find_by': ['find_by', 'Find By ', [['bonfire/modules/settings/libraries','settings_lib.php',241],['application/core','MY_Model.php',526],['bonfire/modules/users/models','user_model.php',476]], 25],
'row': ['row', 'CI_DB_Result ', [['tests/_support','database.php',51],['bonfire/codeigniter/database','DB_result.php',161]], 35],
'save_user': ['save_user', 'Save the user ', [['bonfire/modules/users/controllers','users.php',611],['bonfire/modules/users/controllers','settings.php',489],['bonfire/docs','bonfire_models.md',502]], 3],
'get_field_info': ['get_field_info', 'Get the metadata for the model\'s database fields ', [['application/core','MY_Model.php',1624]], 3],
'join': ['join', 'Join ', [['bonfire/codeigniter/database','DB_active_rec.php',300],['tests/_support','database.php',16],['application/core','MY_Model.php',1841]], 99],
'find': ['find', '', [['bonfire/docs','bonfire_models.md',631],['bonfire/modules/roles/models','role_model.php',109],['application/core','MY_Model.php',409],['bonfire/modules/users/models','user_model.php',430],['application/third_party/MX','Modules.php',168]], 252],
'set': ['set', 'Sets a config item ', [['bonfire/modules/settings/libraries','settings_lib.php',138],['bonfire/codeigniter/database','DB_active_rec.php',903],['bonfire/libraries','template.php',614],['tests/_support','database.php',36],['application/core','MY_Model.php',1857]], 232],
'get_validation_rules': ['get_validation_rules', 'Get the validation rules for the model ', [['application/core','MY_Model.php',1264]], 4],
'or_where': ['or_where', 'OR Where ', [['bonfire/codeigniter/database','DB_active_rec.php',371],['tests/_support','database.php',19],['application/core','MY_Model.php',1843]], 7],
'is_unique': ['is_unique', 'Match one field to another ', [['bonfire/codeigniter/libraries','Form_validation.php',943],['application/core','MY_Model.php',884]], 2],
'item': ['item', 'Retrieves a setting. ', [['bonfire/modules/settings/libraries','settings_lib.php',105],['bonfire/codeigniter/core','Config.php',179]], 174],
'set_created_on': ['set_created_on', '', [['bonfire/docs','bonfire_models.md',683]], 0],
'get_field': ['get_field', 'A convenience method to return only a single field of the specified row. ', [['application/core','MY_Model.php',959]], 3],
'find_all': ['find_all', 'Gets all the settings ', [['bonfire/modules/settings/libraries','settings_lib.php',214],['bonfire/docs','bonfire_models.md',201],['application/core','MY_Model.php',444],['bonfire/modules/users/models','user_model.php',454]], 52],
'find_all_by': ['find_all_by', 'Find All By ', [['bonfire/modules/settings/libraries','settings_lib.php',270],['bonfire/modules/settings/models','settings_model.php',90],['application/core','MY_Model.php',489]], 16],
'array_key_exists': ['array_key_exists', '', [], 107],
'time': ['time', '', [], 52]};
CLASS_DATA={
'x_model': ['x_model', '', [['bonfire/docs','bonfire_models.md',34]], 0],
'bf_model': ['bf_model', 'Bonfire Base Model ', [['application/core','MY_Model.php',18]], 14],
'user_model': ['user_model', '', [['bonfire/docs','bonfire_models.md',200],['bonfire/modules/users/models','user_model.php',18]], 0]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Oct 23 18:57:41 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
